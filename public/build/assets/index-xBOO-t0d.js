import{l as O,p as R,q as d,s as z,o as k,f as h,a as e,u as t,Z as Y,w as n,b as a,n as j,g,d as N,t as H,F as K,O as Z,T as _}from"./app-CT-pdkcm.js";import{_ as G}from"./AuthenticatedLayout-fXZPbvqf.js";import{s as J,a as Q,b as W,c as f,d as x}from"./dialog.esm-Bxc-Pdnb.js";import{s as r}from"./button.esm-5Pp_0Jdc.js";import{s as $}from"./inputtext.esm-DgNwOD9Q.js";import"./ApplicationLogo-DZBVMmUn.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./checkbox.esm-DNJ9kgWu.js";const X={class:"py-12"},ee={class:"mx-auto sm:px-6 lg:px-8"},te={class:"bg-white p-5 overflow-hidden shadow-sm sm:rounded-lg"},le=a("h2",{class:"text-2xl font-bold mb-4"},"Link type",-1),se={class:"card"},ae={class:"flex flex-wrap gap-2 align-items-center justify-between"},ie=a("h4",{class:"m-0"},"Link Types",-1),oe={class:"p-input-icon-left"},ne=a("i",{class:"pi pi-search"},null,-1),re={class:"field mb-3"},de=a("label",{for:"name"},"Name",-1),ue={key:0,class:"p-error"},ce={class:"confirmation-content"},pe=a("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),me={key:0},ve={class:"confirmation-content"},fe=a("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),ye={key:0},Se=O({__name:"index",props:{linkTypes:{type:Array,required:!0}},setup(D){const y=R(),C=d(),u=d(!1),w=d(!1),m=d(!1),v=d(!1),o=d({name:""}),c=d(),b=d({global:{value:null,matchMode:z.CONTAINS}}),p=d(!1),L=()=>{S(),p.value=!1,u.value=!0},V=()=>{u.value=!1,p.value=!1},P=i=>{Z.visit(`/link-types/${i}`)},T=()=>{if(p.value=!0,!o.value.name)return;const i=_({...o.value});if(w.value){E(i);return}i.post("/link-types",{onSuccess:()=>{y.add({severity:"success",summary:"Successful",detail:"Link type Created",life:3e3}),u.value=!1},onError:l=>{console.log(l)}})},E=i=>{p.value=!0,i.post("/link-types/update",{onSuccess:()=>{y.add({severity:"success",summary:"Successful",detail:"Link type Updated",life:3e3}),u.value=!1},onError:l=>{console.log(l)}})},U=i=>{u.value=!0,w.value=!0,o.value={...i}},M=i=>{o.value=i,m.value=!0},B=()=>{m.value=!1,_({}).delete(`/link-types/${o.value.id}`,{onSuccess:()=>{y.add({severity:"success",summary:"Successful",detail:"Link type Deleted",life:3e3})},onError:l=>{console.log(l)},onFinish:()=>{S()}})},F=()=>{C.value.exportCSV()},q=()=>{v.value=!0},A=()=>{v.value=!1;const i=_({items:c.value});console.log(i),i.delete("/link-types/deleteSelected",{onSuccess:()=>{c.value=null,y.add({severity:"success",summary:"Successful",detail:"Link Types  Deleted",life:3e3})},onError:l=>{console.log(l)}})},S=()=>{o.value={name:""}};return(i,l)=>(k(),h(K,null,[e(t(Y),{title:"Dashboard"}),e(G,null,{default:n(()=>[e(t(J)),a("div",X,[a("div",ee,[a("div",te,[le,a("div",null,[a("div",se,[e(t(Q),{class:"mb-4"},{start:n(()=>[e(t(r),{label:"Nuevo",icon:"pi pi-plus",severity:"success",class:"mr-2",onClick:L}),e(t(r),{label:"Borrar",icon:"pi pi-trash",severity:"danger",onClick:q,disabled:!c.value||!c.value.length},null,8,["disabled"])]),end:n(()=>[e(t(r),{label:"Exportar",icon:"pi pi-upload",severity:"help",onClick:F})]),_:1}),e(t(W),{ref_key:"dt",ref:C,value:D.linkTypes,selection:c.value,"onUpdate:selection":l[1]||(l[1]=s=>c.value=s),dataKey:"id",paginator:!0,rows:10,filters:b.value,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Mostrando del {first} al {last} de {totalRecords} itemos"},{header:n(()=>[a("div",ae,[ie,a("span",oe,[ne,e(t($),{modelValue:b.value.global.value,"onUpdate:modelValue":l[0]||(l[0]=s=>b.value.global.value=s),placeholder:"Buscar..."},null,8,["modelValue"])])])]),default:n(()=>[e(t(f),{selectionMode:"multiple",style:{width:"3rem"}}),e(t(f),{field:"id",header:"ID",sortable:""}),e(t(f),{field:"name",header:"Name"}),e(t(f),{field:"hasSchema",header:"Has schema"}),e(t(f),{exportable:!1,style:{"min-width":"8rem"}},{body:n(s=>[e(t(r),{icon:"pi pi-eye",outlined:"",rounded:"",severity:"help",class:"mr-2",onClick:I=>P(s.data.id)},null,8,["onClick"]),e(t(r),{icon:"pi pi-pencil",outlined:"",rounded:"",class:"mr-2",onClick:I=>U(s.data)},null,8,["onClick"]),e(t(r),{icon:"pi pi-trash",outlined:"",rounded:"",severity:"danger",onClick:I=>M(s.data)},null,8,["onClick"])]),_:1})]),_:1},8,["value","selection","filters"])]),e(t(x),{visible:u.value,"onUpdate:visible":l[3]||(l[3]=s=>u.value=s),style:{width:"850px"},header:"Item Details",modal:!0,class:"p-fluid"},{footer:n(()=>[e(t(r),{label:"Cancel",icon:"pi pi-times",text:"",onClick:V}),e(t(r),{label:"Save",icon:"pi pi-check",text:"",onClick:T})]),default:n(()=>[a("div",re,[de,e(t($),{id:"name",modelValue:o.value.name,"onUpdate:modelValue":l[2]||(l[2]=s=>o.value.name=s),modelModifiers:{trim:!0},required:"true",class:j({"p-invalid":p.value&&!o.value.name})},null,8,["modelValue","class"]),p.value&&!o.value.name?(k(),h("small",ue,"Name is required.")):g("",!0)])]),_:1},8,["visible"]),e(t(x),{visible:m.value,"onUpdate:visible":l[5]||(l[5]=s=>m.value=s),style:{width:"450px"},header:"Confirm",modal:!0},{footer:n(()=>[e(t(r),{label:"No",icon:"pi pi-times",text:"",onClick:l[4]||(l[4]=s=>m.value=!1)}),e(t(r),{label:"Yes",icon:"pi pi-check",text:"",onClick:B})]),default:n(()=>[a("div",ce,[pe,o.value?(k(),h("span",me,[N("Are you sure you want to delete "),a("b",null,H(o.value.name),1),N("?")])):g("",!0)])]),_:1},8,["visible"]),e(t(x),{visible:v.value,"onUpdate:visible":l[7]||(l[7]=s=>v.value=s),style:{width:"450px"},header:"Confirm",modal:!0},{footer:n(()=>[e(t(r),{label:"No",icon:"pi pi-times",text:"",onClick:l[6]||(l[6]=s=>v.value=!1)}),e(t(r),{label:"Yes",icon:"pi pi-check",text:"",onClick:A})]),default:n(()=>[a("div",ve,[fe,o.value?(k(),h("span",ye,"Are you sure you want to delete the selected link type?")):g("",!0)])]),_:1},8,["visible"])])])])])]),_:1})],64))}});export{Se as default};
