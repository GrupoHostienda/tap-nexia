import{G as Qr}from"./iconBase-DvZdvrSa.js";import{r as Zr,j as me,b as pt,c as S}from"./jsx-runtime-ByGpHSPZ.js";import{h as en,i as tn}from"./index-iFjJa3Ye.js";/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var rn=on,nn=sn,an=Object.prototype.toString,he=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function on(e,n){if(typeof e!="string")throw new TypeError("argument str must be a string");for(var t={},r=n||{},a=r.decode||un,i=0;i<e.length;){var o=e.indexOf("=",i);if(o===-1)break;var s=e.indexOf(";",i);if(s===-1)s=e.length;else if(s<o){i=e.lastIndexOf(";",o-1)+1;continue}var l=e.slice(i,o).trim();if(t[l]===void 0){var c=e.slice(o+1,s).trim();c.charCodeAt(0)===34&&(c=c.slice(1,-1)),t[l]=fn(c,a)}i=s+1}return t}function sn(e,n,t){var r=t||{},a=r.encode||ln;if(typeof a!="function")throw new TypeError("option encode is invalid");if(!he.test(e))throw new TypeError("argument name is invalid");var i=a(n);if(i&&!he.test(i))throw new TypeError("argument val is invalid");var o=e+"="+i;if(r.maxAge!=null){var s=r.maxAge-0;if(isNaN(s)||!isFinite(s))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(s)}if(r.domain){if(!he.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain="+r.domain}if(r.path){if(!he.test(r.path))throw new TypeError("option path is invalid");o+="; Path="+r.path}if(r.expires){var l=r.expires;if(!cn(l)||isNaN(l.valueOf()))throw new TypeError("option expires is invalid");o+="; Expires="+l.toUTCString()}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.partitioned&&(o+="; Partitioned"),r.priority){var c=typeof r.priority=="string"?r.priority.toLowerCase():r.priority;switch(c){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(r.sameSite){var u=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(u){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o}function un(e){return e.indexOf("%")!==-1?decodeURIComponent(e):e}function ln(e){return encodeURIComponent(e)}function cn(e){return an.call(e)==="[object Date]"||e instanceof Date}function fn(e,n){try{return n(e)}catch{return e}}/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Pt={};function nr(e,n){!e&&!Pt[n]&&(Pt[n]=!0,console.warn(n))}/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const dn=({sign:e,unsign:n})=>(t,r={})=>{let{secrets:a=[],...i}={path:"/",sameSite:"lax",...r};return vn(t,i.expires),{get name(){return t},get isSigned(){return a.length>0},get expires(){return typeof i.maxAge<"u"?new Date(Date.now()+i.maxAge*1e3):i.expires},async parse(o,s){if(!o)return null;let l=rn(o,{...i,...s});return t in l?l[t]===""?"":await pn(n,l[t],a):null},async serialize(o,s){return nn(t,o===""?"":await hn(e,o,a),{...i,...s})}}},gt=e=>e!=null&&typeof e.name=="string"&&typeof e.isSigned=="boolean"&&typeof e.parse=="function"&&typeof e.serialize=="function";async function hn(e,n,t){let r=gn(n);return t.length>0&&(r=await e(r,t[0])),r}async function pn(e,n,t){if(t.length>0){for(let r of t){let a=await e(n,r);if(a!==!1)return Dt(a)}return null}return Dt(n)}function gn(e){return btoa(yn(encodeURIComponent(JSON.stringify(e))))}function Dt(e){try{return JSON.parse(decodeURIComponent(mn(atob(e))))}catch{return{}}}function mn(e){let n=e.toString(),t="",r=0,a,i;for(;r<n.length;)a=n.charAt(r++),/[\w*+\-./@]/.exec(a)?t+=a:(i=a.charCodeAt(0),i<256?t+="%"+At(i,2):t+="%u"+At(i,4).toUpperCase());return t}function At(e,n){let t=e.toString(16);for(;t.length<n;)t="0"+t;return t}function yn(e){let n=e.toString(),t="",r=0,a,i;for(;r<n.length;){if(a=n.charAt(r++),a==="%"){if(n.charAt(r)==="u"){if(i=n.slice(r+1,r+5),/^[\da-f]{4}$/i.exec(i)){t+=String.fromCharCode(parseInt(i,16)),r+=5;continue}}else if(i=n.slice(r,r+2),/^[\da-f]{2}$/i.exec(i)){t+=String.fromCharCode(parseInt(i,16)),r+=2;continue}}t+=a}return t}function vn(e,n){nr(!n,`The "${e}" cookie has an "expires" property set. This will cause the expires value to not be updated when the session is committed. Instead, you should set the expires value when serializing the cookie. You can use \`commitSession(session, { expires })\` if using a session storage object, or \`cookie.serialize("value", { expires })\` if you're using the cookie directly.`)}function we(e){const n=unescape(encodeURIComponent(e));return Uint8Array.from(n,(t,r)=>n.charCodeAt(r))}function wn(e){const n=String.fromCharCode.apply(null,e);return decodeURIComponent(escape(n))}function ye(...e){const n=new Uint8Array(e.reduce((r,a)=>r+a.length,0));let t=0;for(const r of e)n.set(r,t),t+=r.length;return n}function _n(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}function kt(e){return e instanceof Uint8Array?n=>e[n]:e}function Ge(e,n,t,r,a){const i=kt(e),o=kt(t);for(let s=0;s<a;++s)if(i(n+s)!==o(r+s))return!1;return!0}function bn(e){const n=new Array(256).fill(e.length);if(e.length>1)for(let t=0;t<e.length-1;t++)n[e[t]]=e.length-1-t;return n}const N=Symbol("Match");class mt{constructor(n){this._lookbehind=new Uint8Array,typeof n=="string"?this._needle=n=we(n):this._needle=n,this._lastChar=n[n.length-1],this._occ=bn(n)}feed(n){let t=0,r;const a=[];for(;t!==n.length;)[t,...r]=this._feed(n,t),a.push(...r);return a}end(){const n=this._lookbehind;return this._lookbehind=new Uint8Array,n}_feed(n,t){const r=[];let a=-this._lookbehind.length;if(a<0){for(;a<0&&a<=n.length-this._needle.length;){const i=this._charAt(n,a+this._needle.length-1);if(i===this._lastChar&&this._memcmp(n,a,this._needle.length-1))return a>-this._lookbehind.length&&r.push(this._lookbehind.slice(0,this._lookbehind.length+a)),r.push(N),this._lookbehind=new Uint8Array,[a+this._needle.length,...r];a+=this._occ[i]}if(a<0)for(;a<0&&!this._memcmp(n,a,n.length-a);)a++;if(a>=0)r.push(this._lookbehind),this._lookbehind=new Uint8Array;else{const i=this._lookbehind.length+a;return i>0&&(r.push(this._lookbehind.slice(0,i)),this._lookbehind=this._lookbehind.slice(i)),this._lookbehind=Uint8Array.from(new Array(this._lookbehind.length+n.length),(o,s)=>this._charAt(n,s-this._lookbehind.length)),[n.length,...r]}}for(a+=t;a<=n.length-this._needle.length;){const i=n[a+this._needle.length-1];if(i===this._lastChar&&n[a]===this._needle[0]&&Ge(this._needle,0,n,a,this._needle.length-1))return a>t&&r.push(n.slice(t,a)),r.push(N),[a+this._needle.length,...r];a+=this._occ[i]}if(a<n.length){for(;a<n.length&&(n[a]!==this._needle[0]||!Ge(n,a,this._needle,0,n.length-a));)++a;a<n.length&&(this._lookbehind=n.slice(a))}return a>0&&r.push(n.slice(t,a<n.length?a:n.length)),[n.length,...r]}_charAt(n,t){return t<0?this._lookbehind[this._lookbehind.length+t]:n[t]}_memcmp(n,t,r){return Ge(this._charAt.bind(this,n),t,this._needle,0,r)}}class Sn{constructor(n,t){this._readableStream=t,this._search=new mt(n)}async*[Symbol.asyncIterator](){const n=this._readableStream.getReader();try{for(;;){const r=await n.read();if(r.done)break;yield*this._search.feed(r.value)}const t=this._search.end();t.length&&(yield t)}finally{n.releaseLock()}}}const Rn=Function.prototype.apply.bind(ye,void 0),ar=we("--"),oe=we(`\r
`);function Cn(e){const n=e.split(";").map(r=>r.trim());if(n.shift()!=="form-data")throw new Error('malformed content-disposition header: missing "form-data" in `'+JSON.stringify(n)+"`");const t={};for(const r of n){const a=r.split("=",2);if(a.length!==2)throw new Error("malformed content-disposition header: key-value pair not found - "+r+" in `"+e+"`");const[i,o]=a;if(o[0]==='"'&&o[o.length-1]==='"')t[i]=o.slice(1,-1).replace(/\\"/g,'"');else if(o[0]!=='"'&&o[o.length-1]!=='"')t[i]=o;else if(o[0]==='"'&&o[o.length-1]!=='"'||o[0]!=='"'&&o[o.length-1]==='"')throw new Error("malformed content-disposition header: mismatched quotations in `"+e+"`")}if(!t.name)throw new Error("malformed content-disposition header: missing field name in `"+e+"`");return t}function xn(e){const n=[];let t=!1,r;for(;typeof(r=e.shift())<"u";){const a=r.indexOf(":");if(a===-1)throw new Error("malformed multipart-form header: missing colon");const i=r.slice(0,a).trim().toLowerCase(),o=r.slice(a+1).trim();switch(i){case"content-disposition":t=!0,n.push(...Object.entries(Cn(o)));break;case"content-type":n.push(["contentType",o])}}if(!t)throw new Error("malformed multipart-form header: missing content-disposition");return Object.fromEntries(n)}async function Un(e,n){let t=!0,r=!1;const a=[[]],i=new mt(oe);for(;;){const o=await e.next();if(o.done)throw new Error("malformed multipart-form data: unexpected end of stream");if(t&&o.value!==N&&_n(o.value.slice(0,2),ar))return[void 0,new Uint8Array];let s;if(o.value!==N)s=o.value;else if(!r)s=n;else throw new Error("malformed multipart-form data: unexpected boundary");if(!s.length)continue;t&&(t=!1);const l=i.feed(s);for(const[c,u]of l.entries()){const f=u===N;if(!(!f&&!u.length)){if(r&&f)return l.push(i.end()),[a.filter(d=>d.length).map(Rn).map(wn),ye(...l.slice(c+1).map(d=>d===N?oe:d))];(r=f)?a.push([]):a[a.length-1].push(u)}}}}async function*On(e,n){const t=ye(ar,we(n)),r=new Sn(t,e)[Symbol.asyncIterator]();for(;;){const i=await r.next();if(i.done)return;if(i.value===N)break}const a=new mt(oe);for(;;){let c=function(p){const y=[];for(const w of a.feed(p))l&&y.push(oe),(l=w===N)||y.push(w);return ye(...y)};const[i,o]=await Un(r,t);if(!i)return;async function s(){const p=await r.next();if(p.done)throw new Error("malformed multipart-form data: unexpected end of stream");return p}let l=!1,u=!1;async function f(){const p=await s();let y;if(p.value!==N)y=p.value;else if(!l)y=oe;else return u=!0,{value:a.end()};return{value:c(y)}}const d=[{value:c(o)}];for(yield{...xn(i),data:{[Symbol.asyncIterator](){return this},async next(){for(;;){const p=d.shift();if(!p)break;if(p.value.length>0)return p}for(;;){if(u)return{done:u,value:void 0};const p=await f();if(p.value.length>0)return p}}}};!u;)d.push(await f())}}/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function En(...e){return async n=>{for(let t of e){let r=await t(n);if(typeof r<"u"&&r!==null)return r}}}async function Pn(e,n){let t=e.headers.get("Content-Type")||"",[r,a]=t.split(/\s*;\s*boundary=/);if(!e.body||!a||r!=="multipart/form-data")throw new TypeError("Could not parse content as FormData.");let i=new FormData,o=On(e.body,a);for await(let s of o){if(s.done)break;typeof s.filename=="string"&&(s.filename=s.filename.split(/[/\\]/).pop());let l=await n(s);typeof l<"u"&&l!==null&&i.append(s.name,l)}return i}/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function E(){return E=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},E.apply(this,arguments)}var Lt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Lt||(Lt={}));function I(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function yt(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Dn(){return Math.random().toString(36).substr(2,8)}function $t(e,n,t,r){return t===void 0&&(t=null),E({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof n=="string"?ue(n):n,{state:t,key:n&&n.key||r||Dn()})}function ut(e){let{pathname:n="/",search:t="",hash:r=""}=e;return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function ue(e){let n={};if(e){let t=e.indexOf("#");t>=0&&(n.hash=e.substr(t),e=e.substr(0,t));let r=e.indexOf("?");r>=0&&(n.search=e.substr(r),e=e.substr(0,r)),e&&(n.pathname=e)}return n}var U;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(U||(U={}));const An=new Set(["lazy","caseSensitive","path","id","index","children"]);function kn(e){return e.index===!0}function ir(e,n,t,r){return t===void 0&&(t=[]),r===void 0&&(r={}),e.map((a,i)=>{let o=[...t,i],s=typeof a.id=="string"?a.id:o.join("-");if(I(a.index!==!0||!a.children,"Cannot specify children on an index route"),I(!r[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),kn(a)){let l=E({},a,n(a),{id:s});return r[s]=l,l}else{let l=E({},a,n(a),{id:s,children:void 0});return r[s]=l,a.children&&(l.children=ir(a.children,n,o,r)),l}})}function lt(e,n,t){t===void 0&&(t="/");let r=typeof n=="string"?ue(n):n,a=_e(r.pathname||"/",t);if(a==null)return null;let i=or(e);Ln(i);let o=null;for(let s=0;o==null&&s<i.length;++s){let l=Gn(a);o=zn(i[s],l)}return o}function or(e,n,t,r){n===void 0&&(n=[]),t===void 0&&(t=[]),r===void 0&&(r="");let a=(i,o,s)=>{let l={relativePath:s===void 0?i.path||"":s,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(I(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=se([r,l.relativePath]),u=t.concat(l);i.children&&i.children.length>0&&(I(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),or(i.children,n,u,c)),!(i.path==null&&!i.index)&&n.push({path:c,score:Hn(c,i.index),routesMeta:u})};return e.forEach((i,o)=>{var s;if(i.path===""||!((s=i.path)!=null&&s.includes("?")))a(i,o);else for(let l of sr(i.path))a(i,o,l)}),n}function sr(e){let n=e.split("/");if(n.length===0)return[];let[t,...r]=n,a=t.endsWith("?"),i=t.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=sr(r.join("/")),s=[];return s.push(...o.map(l=>l===""?i:[i,l].join("/"))),a&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function Ln(e){e.sort((n,t)=>n.score!==t.score?t.score-n.score:Bn(n.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const $n=/^:[\w-]+$/,jn=3,Tn=2,Mn=1,Fn=10,In=-2,jt=e=>e==="*";function Hn(e,n){let t=e.split("/"),r=t.length;return t.some(jt)&&(r+=In),n&&(r+=Tn),t.filter(a=>!jt(a)).reduce((a,i)=>a+($n.test(i)?jn:i===""?Mn:Fn),r)}function Bn(e,n){return e.length===n.length&&e.slice(0,-1).every((r,a)=>r===n[a])?e[e.length-1]-n[n.length-1]:0}function zn(e,n){let{routesMeta:t}=e,r={},a="/",i=[];for(let o=0;o<t.length;++o){let s=t[o],l=o===t.length-1,c=a==="/"?n:n.slice(a.length)||"/",u=Nn({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let f=s.route;i.push({params:r,pathname:se([a,u.pathname]),pathnameBase:Jn(se([a,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(a=se([a,u.pathnameBase]))}return i}function Nn(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,r]=Kn(e.path,e.caseSensitive,e.end),a=n.match(t);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:d,isOptional:p}=u;if(d==="*"){let w=s[f]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=s[f];return p&&!y?c[d]=void 0:c[d]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function Kn(e,n,t){n===void 0&&(n=!1),t===void 0&&(t=!0),yt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,n?void 0:"i"),r]}function Gn(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return yt(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),e}}function _e(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let t=n.endsWith("/")?n.length-1:n.length,r=e.charAt(t);return r&&r!=="/"?null:e.slice(t)||"/"}function Wn(e,n){n===void 0&&(n="/");let{pathname:t,search:r="",hash:a=""}=typeof e=="string"?ue(e):e;return{pathname:t?t.startsWith("/")?t:Vn(t,n):n,search:Yn(r),hash:Qn(a)}}function Vn(e,n){let t=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function We(e,n,t,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ur(e){return e.filter((n,t)=>t===0||n.route.path&&n.route.path.length>0)}function qn(e,n){let t=ur(e);return n?t.map((r,a)=>a===e.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Xn(e,n,t,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=ue(e):(a=E({},e),I(!a.pathname||!a.pathname.includes("?"),We("?","pathname","search",a)),I(!a.pathname||!a.pathname.includes("#"),We("#","pathname","hash",a)),I(!a.search||!a.search.includes("#"),We("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,s;if(o==null)s=t;else{let f=n.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;a.pathname=d.join("/")}s=f>=0?n[f]:"/"}let l=Wn(a,s),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const se=e=>e.join("/").replace(/\/\/+/g,"/"),Jn=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Yn=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Qn=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,vt=function(n,t){t===void 0&&(t={});let r=typeof t=="number"?{status:t}:t,a=new Headers(r.headers);return a.has("Content-Type")||a.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(n),E({},r,{headers:a}))};class Tt extends Error{}class Zn{constructor(n,t){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],I(n&&typeof n=="object"&&!Array.isArray(n),"defer() only accepts plain objects");let r;this.abortPromise=new Promise((i,o)=>r=o),this.controller=new AbortController;let a=()=>r(new Tt("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",a),this.controller.signal.addEventListener("abort",a),this.data=Object.entries(n).reduce((i,o)=>{let[s,l]=o;return Object.assign(i,{[s]:this.trackPromise(s,l)})},{}),this.done&&this.unlistenAbortSignal(),this.init=t}trackPromise(n,t){if(!(t instanceof Promise))return t;this.deferredKeys.push(n),this.pendingKeysSet.add(n);let r=Promise.race([t,this.abortPromise]).then(a=>this.onSettle(r,n,void 0,a),a=>this.onSettle(r,n,a));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(n,t,r,a){if(this.controller.signal.aborted&&r instanceof Tt)return this.unlistenAbortSignal(),Object.defineProperty(n,"_error",{get:()=>r}),Promise.reject(r);if(this.pendingKeysSet.delete(t),this.done&&this.unlistenAbortSignal(),r===void 0&&a===void 0){let i=new Error('Deferred data for key "'+t+'" resolved/rejected with `undefined`, you must resolve/reject with a value or `null`.');return Object.defineProperty(n,"_error",{get:()=>i}),this.emit(!1,t),Promise.reject(i)}return a===void 0?(Object.defineProperty(n,"_error",{get:()=>r}),this.emit(!1,t),Promise.reject(r)):(Object.defineProperty(n,"_data",{get:()=>a}),this.emit(!1,t),a)}emit(n,t){this.subscribers.forEach(r=>r(n,t))}subscribe(n){return this.subscribers.add(n),()=>this.subscribers.delete(n)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((n,t)=>this.pendingKeysSet.delete(t)),this.emit(!0)}async resolveData(n){let t=!1;if(!this.done){let r=()=>this.cancel();n.addEventListener("abort",r),t=await new Promise(a=>{this.subscribe(i=>{n.removeEventListener("abort",r),(i||this.done)&&a(i)})})}return t}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return I(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((n,t)=>{let[r,a]=t;return Object.assign(n,{[r]:ta(a)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function ea(e){return e instanceof Promise&&e._tracked===!0}function ta(e){if(!ea(e))return e;if(e._error)throw e._error;return e._data}const ra=function(n,t){t===void 0&&(t={});let r=typeof t=="number"?{status:t}:t;return new Zn(n,r)},lr=function(n,t){t===void 0&&(t=302);let r=t;typeof r=="number"?r={status:r}:typeof r.status>"u"&&(r.status=302);let a=new Headers(r.headers);return a.set("Location",n),new Response(null,E({},r,{headers:a}))},na=(e,n)=>{let t=lr(e,n);return t.headers.set("X-Remix-Reload-Document","true"),t};class wt{constructor(n,t,r,a){a===void 0&&(a=!1),this.status=n,this.statusText=t||"",this.internal=a,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function q(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const cr=["post","put","patch","delete"],aa=new Set(cr),ia=["get",...cr],oa=new Set(ia),sa=new Set([301,302,303,307,308]),ua=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,la=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),ve=Symbol("deferred");function ca(e,n){I(e.length>0,"You must provide a non-empty routes array to createStaticHandler");let t={},r=(n?n.basename:null)||"/",a;if(n!=null&&n.mapRouteProperties)a=n.mapRouteProperties;else if(n!=null&&n.detectErrorBoundary){let d=n.detectErrorBoundary;a=p=>({hasErrorBoundary:d(p)})}else a=la;let i=E({v7_relativeSplatPath:!1,v7_throwAbortReason:!1},n?n.future:null),o=ir(e,a,void 0,t);async function s(d,p){let{requestContext:y}=p===void 0?{}:p,w=new URL(d.url),m=d.method,g=$t("",ut(w),null,"default"),h=lt(o,g,r);if(!Bt(m)&&m!=="HEAD"){let _=B(405,{method:m}),{matches:b,route:R}=Ht(o);return{basename:r,location:g,matches:b,loaderData:{},actionData:null,errors:{[R.id]:_},statusCode:_.status,loaderHeaders:{},actionHeaders:{},activeDeferreds:null}}else if(!h){let _=B(404,{pathname:g.pathname}),{matches:b,route:R}=Ht(o);return{basename:r,location:g,matches:b,loaderData:{},actionData:null,errors:{[R.id]:_},statusCode:_.status,loaderHeaders:{},actionHeaders:{},activeDeferreds:null}}let v=await c(d,g,h,y);return ne(v)?v:E({location:g,basename:r},v)}async function l(d,p){let{routeId:y,requestContext:w}=p===void 0?{}:p,m=new URL(d.url),g=d.method,h=$t("",ut(m),null,"default"),v=lt(o,h,r);if(!Bt(g)&&g!=="HEAD"&&g!=="OPTIONS")throw B(405,{method:g});if(!v)throw B(404,{pathname:h.pathname});let _=y?v.find(x=>x.route.id===y):zt(v,h);if(y&&!_)throw B(403,{pathname:h.pathname,routeId:y});if(!_)throw B(404,{pathname:h.pathname});let b=await c(d,h,v,w,_);if(ne(b))return b;let R=b.errors?Object.values(b.errors)[0]:void 0;if(R!==void 0)throw R;if(b.actionData)return Object.values(b.actionData)[0];if(b.loaderData){var C;let x=Object.values(b.loaderData)[0];return(C=b.activeDeferreds)!=null&&C[_.route.id]&&(x[ve]=b.activeDeferreds[_.route.id]),x}}async function c(d,p,y,w,m){I(d.signal,"query()/queryRoute() requests must contain an AbortController signal");try{if(va(d.method.toLowerCase()))return await u(d,y,m||zt(y,p),w,m!=null);let g=await f(d,y,w,m);return ne(g)?g:E({},g,{actionData:null,actionHeaders:{}})}catch(g){if(ya(g)){if(g.type===U.error)throw g.response;return g.response}if(ma(g))return g;throw g}}async function u(d,p,y,w,m){let g;if(!y.route.action&&!y.route.lazy){let _=B(405,{method:d.method,pathname:new URL(d.url).pathname,routeId:y.route.id});if(m)throw _;g={type:U.error,error:_}}else g=await It("action",d,y,p,t,a,r,i.v7_relativeSplatPath,{isStaticRequest:!0,isRouteRequest:m,requestContext:w}),d.signal.aborted&&Mt(d,m,i);if(hr(g))throw new Response(null,{status:g.status,headers:{Location:g.location}});if(dr(g)){let _=B(400,{type:"defer-action"});if(m)throw _;g={type:U.error,error:_}}if(m){if(ct(g))throw g.error;return{matches:[y],loaderData:{},actionData:{[y.route.id]:g.data},errors:null,statusCode:200,loaderHeaders:{},actionHeaders:{},activeDeferreds:null}}if(ct(g)){let _=fr(p,y.route.id),b=await f(d,p,w,void 0,{[_.route.id]:g.error});return E({},b,{statusCode:q(g.error)?g.error.status:500,actionData:null,actionHeaders:E({},g.headers?{[y.route.id]:g.headers}:{})})}let h=new Request(d.url,{headers:d.headers,redirect:d.redirect,signal:d.signal}),v=await f(h,p,w);return E({},v,g.statusCode?{statusCode:g.statusCode}:{},{actionData:{[y.route.id]:g.data},actionHeaders:E({},g.headers?{[y.route.id]:g.headers}:{})})}async function f(d,p,y,w,m){let g=w!=null;if(g&&!(w!=null&&w.route.loader)&&!(w!=null&&w.route.lazy))throw B(400,{method:d.method,pathname:new URL(d.url).pathname,routeId:w==null?void 0:w.route.id});let v=(w?[w]:ha(p,Object.keys(m||{})[0])).filter(x=>x.route.loader||x.route.lazy);if(v.length===0)return{matches:p,loaderData:p.reduce((x,O)=>Object.assign(x,{[O.route.id]:null}),{}),errors:m||null,statusCode:200,loaderHeaders:{},activeDeferreds:null};let _=await Promise.all([...v.map(x=>It("loader",d,x,p,t,a,r,i.v7_relativeSplatPath,{isStaticRequest:!0,isRouteRequest:g,requestContext:y}))]);d.signal.aborted&&Mt(d,g,i);let b=new Map,R=pa(p,v,_,m,b),C=new Set(v.map(x=>x.route.id));return p.forEach(x=>{C.has(x.route.id)||(R.loaderData[x.route.id]=null)}),E({},R,{matches:p,activeDeferreds:b.size>0?Object.fromEntries(b.entries()):null})}return{dataRoutes:o,query:s,queryRoute:l}}function fa(e,n,t){return E({},n,{statusCode:q(t)?t.status:500,errors:{[n._deepestRenderedBoundaryId||e[0].id]:t}})}function Mt(e,n,t){if(t.v7_throwAbortReason&&e.signal.reason!==void 0)throw e.signal.reason;let r=n?"queryRoute":"query";throw new Error(r+"() call aborted: "+e.method+" "+e.url)}function da(e,n,t,r,a,i,o,s){let l,c;if(o){l=[];for(let f of n)if(l.push(f),f.route.id===o){c=f;break}}else l=n,c=n[n.length-1];let u=Xn(a||".",qn(l,i),_e(e.pathname,t)||e.pathname,s==="path");return a==null&&(u.search=e.search,u.hash=e.hash),(a==null||a===""||a===".")&&c&&c.route.index&&!pr(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&t!=="/"&&(u.pathname=u.pathname==="/"?t:se([t,u.pathname])),ut(u)}function ha(e,n){let t=e;if(n){let r=e.findIndex(a=>a.route.id===n);r>=0&&(t=e.slice(0,r))}return t}async function Ft(e,n,t){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let a=t[e.id];I(a,"No route found in manifest");let i={};for(let o in r){let l=a[o]!==void 0&&o!=="hasErrorBoundary";yt(!l,'Route "'+a.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!An.has(o)&&(i[o]=r[o])}Object.assign(a,i),Object.assign(a,E({},n(a),{lazy:void 0}))}async function It(e,n,t,r,a,i,o,s,l){l===void 0&&(l={});let c,u,f,d=w=>{let m,g=new Promise((h,v)=>m=v);return f=()=>m(),n.signal.addEventListener("abort",f),Promise.race([w({request:n,params:t.params,context:l.requestContext}),g])};try{let w=t.route[e];if(t.route.lazy)if(w){let m,g=await Promise.all([d(w).catch(h=>{m=h}),Ft(t.route,i,a)]);if(m)throw m;u=g[0]}else if(await Ft(t.route,i,a),w=t.route[e],w)u=await d(w);else if(e==="action"){let m=new URL(n.url),g=m.pathname+m.search;throw B(405,{method:n.method,pathname:g,routeId:t.route.id})}else return{type:U.data,data:void 0};else if(w)u=await d(w);else{let m=new URL(n.url),g=m.pathname+m.search;throw B(404,{pathname:g})}I(u!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(w){c=U.error,u=w}finally{f&&n.signal.removeEventListener("abort",f)}if(ne(u)){let w=u.status;if(sa.has(w)){let g=u.headers.get("Location");if(I(g,"Redirects returned/thrown from loaders/actions must have a Location header"),!ua.test(g))g=da(new URL(n.url),r.slice(0,r.indexOf(t)+1),o,!0,g,s);else if(!l.isStaticRequest){let h=new URL(n.url),v=g.startsWith("//")?new URL(h.protocol+g):new URL(g),_=_e(v.pathname,o)!=null;v.origin===h.origin&&_&&(g=v.pathname+v.search+v.hash)}if(l.isStaticRequest)throw u.headers.set("Location",g),u;return{type:U.redirect,status:w,location:g,revalidate:u.headers.get("X-Remix-Revalidate")!==null,reloadDocument:u.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:c===U.error?U.error:U.data,response:u};let m;try{let g=u.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?u.body==null?m=null:m=await u.json():m=await u.text()}catch(g){return{type:U.error,error:g}}return c===U.error?{type:c,error:new wt(w,u.statusText,m),headers:u.headers}:{type:U.data,data:m,statusCode:u.status,headers:u.headers}}if(c===U.error)return{type:c,error:u};if(ga(u)){var p,y;return{type:U.deferred,deferredData:u,statusCode:(p=u.init)==null?void 0:p.status,headers:((y=u.init)==null?void 0:y.headers)&&new Headers(u.init.headers)}}return{type:U.data,data:u}}function pa(e,n,t,r,a){let i={},o=null,s,l=!1,c={};return t.forEach((u,f)=>{let d=n[f].route.id;if(I(!hr(u),"Cannot handle redirect results in processLoaderData"),ct(u)){let p=fr(e,d),y=u.error;r&&(y=Object.values(r)[0],r=void 0),o=o||{},o[p.route.id]==null&&(o[p.route.id]=y),i[d]=void 0,l||(l=!0,s=q(u.error)?u.error.status:500),u.headers&&(c[d]=u.headers)}else dr(u)?(a.set(d,u.deferredData),i[d]=u.deferredData.data):i[d]=u.data,u.statusCode!=null&&u.statusCode!==200&&!l&&(s=u.statusCode),u.headers&&(c[d]=u.headers)}),r&&(o=r,i[Object.keys(r)[0]]=void 0),{loaderData:i,errors:o,statusCode:s||200,loaderHeaders:c}}function fr(e,n){return(n?e.slice(0,e.findIndex(r=>r.route.id===n)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function Ht(e){let n=e.length===1?e[0]:e.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:n}],route:n}}function B(e,n){let{pathname:t,routeId:r,method:a,type:i}=n===void 0?{}:n,o="Unknown Server Error",s="Unknown @remix-run/router error";return e===400?(o="Bad Request",a&&t&&r?s="You made a "+a+' request to "'+t+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?s="defer() is not supported in actions":i==="invalid-body"&&(s="Unable to encode submission body")):e===403?(o="Forbidden",s='Route "'+r+'" does not match URL "'+t+'"'):e===404?(o="Not Found",s='No route matches URL "'+t+'"'):e===405&&(o="Method Not Allowed",a&&t&&r?s="You made a "+a.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":a&&(s='Invalid request method "'+a.toUpperCase()+'"')),new wt(e||500,o,new Error(s),!0)}function dr(e){return e.type===U.deferred}function ct(e){return e.type===U.error}function hr(e){return(e&&e.type)===U.redirect}function ga(e){let n=e;return n&&typeof n=="object"&&typeof n.data=="object"&&typeof n.subscribe=="function"&&typeof n.cancel=="function"&&typeof n.resolveData=="function"}function ne(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function ma(e){if(!ne(e))return!1;let n=e.status,t=e.headers.get("Location");return n>=300&&n<=399&&t!=null}function ya(e){return e&&ne(e.response)&&(e.type===U.data||e.type===U.error)}function Bt(e){return oa.has(e.toLowerCase())}function va(e){return aa.has(e.toLowerCase())}function pr(e){return new URLSearchParams(e).getAll("index").some(n=>n==="")}function zt(e,n){let t=typeof n=="string"?ue(n).search:n.search;if(e[e.length-1].route.index&&pr(t||""))return e[e.length-1];let r=ur(e);return r[r.length-1]}/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */let K=function(e){return e.Development="development",e.Production="production",e.Test="test",e}({});function wa(e){return e===K.Development||e===K.Production||e===K.Test}/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _t(e,n){if(e instanceof Error&&n!==K.Development){let t=new Error("Unexpected Server Error");return t.stack=void 0,t}return e}function Nt(e,n){return Object.entries(e).reduce((t,[r,a])=>Object.assign(t,{[r]:_t(a,n)}),{})}function be(e,n){let t=_t(e,n);return{message:t.message,stack:t.stack}}function Kt(e,n){if(!e)return null;let t=Object.entries(e),r={};for(let[a,i]of t)if(q(i))r[a]={...i,__type:"RouteErrorResponse"};else if(i instanceof Error){let o=_t(i,n);r[a]={message:o.message,stack:o.stack,__type:"Error",...o.name!=="Error"?{__subType:o.name}:{}}}else r[a]=i;return r}/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const bt=(e,n={})=>vt(e,n),_a=(e,n={})=>ra(e,n),gr=(e,n=302)=>lr(e,n),ba=(e,n=302)=>na(e,n);function Sa(e){let n=e;return n&&typeof n=="object"&&typeof n.data=="object"&&typeof n.subscribe=="function"&&typeof n.cancel=="function"&&typeof n.resolveData=="function"}function Q(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}const Ra=new Set([301,302,303,307,308]);function mr(e){return Ra.has(e)}function Ca(e){return mr(e.status)}function xa(e){return e!=null&&typeof e.then=="function"&&e._tracked===!0}const Ua="__deferred_promise:";function Oa(e,n,t){let r=new TextEncoder;return new ReadableStream({async start(i){let o={},s=[];for(let[c,u]of Object.entries(e.data))xa(u)?(o[c]=`${Ua}${c}`,(typeof u._data<"u"||typeof u._error<"u")&&s.push(c)):o[c]=u;i.enqueue(r.encode(JSON.stringify(o)+`

`));for(let c of s)Gt(i,r,c,e.data[c],t);let l=e.subscribe((c,u)=>{u&&Gt(i,r,u,e.data[u],t)});await e.resolveData(n),l(),i.close()}})}function Gt(e,n,t,r,a){"_error"in r?e.enqueue(n.encode("error:"+JSON.stringify({[t]:r._error instanceof Error?be(r._error,a):r._error})+`

`)):e.enqueue(n.encode("data:"+JSON.stringify({[t]:r._data??null})+`

`))}/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ea(e){return Object.keys(e).reduce((n,t)=>(n[t]=e[t].module,n),{})}var Se={exports:{}},re={decodeValues:!0,map:!1,silent:!1};function ft(e){return typeof e=="string"&&!!e.trim()}function dt(e,n){var t=e.split(";").filter(ft),r=t.shift(),a=Pa(r),i=a.name,o=a.value;n=n?Object.assign({},re,n):re;try{o=n.decodeValues?decodeURIComponent(o):o}catch(l){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+o+"'. Set options.decodeValues to false to disable this feature.",l)}var s={name:i,value:o};return t.forEach(function(l){var c=l.split("="),u=c.shift().trimLeft().toLowerCase(),f=c.join("=");u==="expires"?s.expires=new Date(f):u==="max-age"?s.maxAge=parseInt(f,10):u==="secure"?s.secure=!0:u==="httponly"?s.httpOnly=!0:u==="samesite"?s.sameSite=f:s[u]=f}),s}function Pa(e){var n="",t="",r=e.split("=");return r.length>1?(n=r.shift(),t=r.join("=")):t=e,{name:n,value:t}}function yr(e,n){if(n=n?Object.assign({},re,n):re,!e)return n.map?{}:[];if(e.headers)if(typeof e.headers.getSetCookie=="function")e=e.headers.getSetCookie();else if(e.headers["set-cookie"])e=e.headers["set-cookie"];else{var t=e.headers[Object.keys(e.headers).find(function(a){return a.toLowerCase()==="set-cookie"})];!t&&e.headers.cookie&&!n.silent&&console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),e=t}if(Array.isArray(e)||(e=[e]),n=n?Object.assign({},re,n):re,n.map){var r={};return e.filter(ft).reduce(function(a,i){var o=dt(i,n);return a[o.name]=o,a},r)}else return e.filter(ft).map(function(a){return dt(a,n)})}function Da(e){if(Array.isArray(e))return e;if(typeof e!="string")return[];var n=[],t=0,r,a,i,o,s;function l(){for(;t<e.length&&/\s/.test(e.charAt(t));)t+=1;return t<e.length}function c(){return a=e.charAt(t),a!=="="&&a!==";"&&a!==","}for(;t<e.length;){for(r=t,s=!1;l();)if(a=e.charAt(t),a===","){for(i=t,t+=1,l(),o=t;t<e.length&&c();)t+=1;t<e.length&&e.charAt(t)==="="?(s=!0,t=o,n.push(e.substring(r,i)),r=t):t=i+1}else t+=1;(!s||t>=e.length)&&n.push(e.substring(r,e.length))}return n}Se.exports=yr;Se.exports.parse=yr;Se.exports.parseString=dt;var Aa=Se.exports.splitCookiesString=Da;/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ka(e,n){let t=n.errors?n.matches.findIndex(i=>n.errors[i.route.id]):-1,r=t>=0?n.matches.slice(0,t+1):n.matches,a;if(t>=0){let{actionHeaders:i,actionData:o,loaderHeaders:s,loaderData:l}=n;n.matches.slice(t).some(c=>{let u=c.route.id;return i[u]&&(!o||o[u]===void 0)?a=i[u]:s[u]&&l[u]===void 0&&(a=s[u]),a!=null})}return r.reduce((i,o,s)=>{let{id:l}=o.route,c=e.routes[l].module,u=n.loaderHeaders[l]||new Headers,f=n.actionHeaders[l]||new Headers,d=a!=null&&s===r.length-1,p=d&&a!==u&&a!==f;if(c.headers==null){let w=new Headers(i);return p&&Y(a,w),Y(f,w),Y(u,w),w}let y=new Headers(c.headers?typeof c.headers=="function"?c.headers({loaderHeaders:u,parentHeaders:i,actionHeaders:f,errorHeaders:d?a:void 0}):c.headers:void 0);return p&&Y(a,y),Y(f,y),Y(u,y),Y(i,y),y},new Headers)}function Y(e,n){let t=e.get("Set-Cookie");t&&Aa(t).forEach(a=>{n.append("Set-Cookie",a)})}/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wt(e,n){if(e===!1||e===null||typeof e>"u")throw console.error("The following error is a bug in Remix; please open an issue! https://github.com/remix-run/remix/issues/new"),new Error(n)}/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function La(e,n,t){let r=lt(e,n,t);return r?r.map(a=>({params:a.params,pathname:a.pathname,route:a.route})):null}/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */async function $a({loadContext:e,action:n,params:t,request:r,routeId:a}){let i=await n({request:wr(vr(r)),context:e,params:t});if(i===void 0)throw new Error(`You defined an action for route "${a}" but didn't return anything from your \`action\` function. Please return a value or \`null\`.`);return Q(i)?i:bt(i)}async function ja({loadContext:e,loader:n,params:t,request:r,routeId:a}){let i=await n({request:wr(vr(r)),context:e,params:t});if(i===void 0)throw new Error(`You defined a loader for route "${a}" but didn't return anything from your \`loader\` function. Please return a value or \`null\`.`);return Sa(i)?i.init&&mr(i.init.status||200)?gr(new Headers(i.init.headers).get("Location"),i.init):i:Q(i)?i:bt(i)}function vr(e){let n=new URL(e.url),t=n.searchParams.getAll("index");n.searchParams.delete("index");let r=[];for(let i of t)i&&r.push(i);for(let i of r)n.searchParams.append("index",i);let a={method:e.method,body:e.body,headers:e.headers,signal:e.signal};return a.body&&(a.duplex="half"),new Request(n.href,a)}function wr(e){let n=new URL(e.url);n.searchParams.delete("_data");let t={method:e.method,body:e.body,headers:e.headers,signal:e.signal};return t.body&&(t.duplex="half"),new Request(n.href,t)}/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _r(e){let n={};return Object.values(e).forEach(t=>{let r=t.parentId||"";n[r]||(n[r]=[]),n[r].push(t)}),n}function br(e,n="",t=_r(e)){return(t[n]||[]).map(r=>({...r,children:br(e,r.id,t)}))}function Sr(e,n,t="",r=_r(e)){return(r[t]||[]).map(a=>{let i={hasErrorBoundary:a.id==="root"||a.module.ErrorBoundary!=null,id:a.id,path:a.path,loader:a.module.loader?o=>ja({request:o.request,params:o.params,loadContext:o.context,loader:a.module.loader,routeId:a.id}):void 0,action:a.module.action?o=>$a({request:o.request,params:o.params,loadContext:o.context,action:a.module.action,routeId:a.id}):void 0,handle:a.module.handle};return a.index?{index:!0,...i}:{caseSensitive:a.caseSensitive,children:Sr(e,n,a.id,r),...i}})}/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Ta={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},Ma=/[&><\u2028\u2029]/g;function Fa(e){return e.replace(Ma,n=>Ta[n])}/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vt(e){return Fa(JSON.stringify(e))}var Ia={};/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */async function Ha(e,n){if(n??(n=Ia.REMIX_DEV_ORIGIN),!n)throw Error("Dev server origin not set");let t=new URL(n);t.pathname="ping";let r=await fetch(t.href,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({buildHash:e.assets.version})}).catch(a=>{throw console.error(`Could not reach Remix dev server at ${t}`),a});if(!r.ok)throw console.error(`Could not reach Remix dev server at ${t} (${r.status})`),Error(await r.text())}function Ba(e){console.log(`[REMIX DEV] ${e.assets.version} ready`)}const Rr="__remix_devServerHooks";function za(e){globalThis[Rr]=e}function qt(){return globalThis[Rr]}/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xt(e,n){var t,r;let a=br(e.routes),i=Sr(e.routes,e.future),o=wa(n)?n:K.Production,s=ca(i,{basename:e.basename,future:{v7_relativeSplatPath:((t=e.future)===null||t===void 0?void 0:t.v3_relativeSplatPath)===!0,v7_throwAbortReason:((r=e.future)===null||r===void 0?void 0:r.v3_throwAbortReason)===!0}}),l=e.entry.module.handleError||((c,{request:u})=>{o!==K.Test&&!u.signal.aborted&&console.error(q(c)&&c.error?c.error:c)});return{routes:a,dataRoutes:i,serverMode:o,staticHandler:s,errorHandler:l}}const Na=(e,n)=>{let t,r,a,i,o;return async function(l,c={}){if(t=typeof e=="function"?await e():e,n??(n=t.mode),typeof e=="function"){let g=Xt(t,n);r=g.routes,a=g.serverMode,i=g.staticHandler,o=g.errorHandler}else if(!r||!a||!i||!o){let g=Xt(t,n);r=g.routes,a=g.serverMode,i=g.staticHandler,o=g.errorHandler}let u=new URL(l.url),f=La(r,u.pathname,t.basename),d=g=>{if(n===K.Development){var h,v;(h=qt())===null||h===void 0||(v=h.processRequestError)===null||v===void 0||v.call(h,g)}o(g,{context:c,params:f&&f.length>0?f[0].params:{},request:l})},p;if(u.searchParams.has("_data")){let g=u.searchParams.get("_data");if(p=await Ka(a,t,i,g,l,c,d),t.entry.module.handleDataRequest){var y;p=await t.entry.module.handleDataRequest(p,{context:c,params:(f==null||(y=f.find(h=>h.route.id==g))===null||y===void 0?void 0:y.params)||{},request:l})}}else if(f&&f[f.length-1].route.module.default==null&&f[f.length-1].route.module.ErrorBoundary==null)p=await Wa(a,i,f.slice(-1)[0].route.id,l,c,d);else{var w,m;let g=n===K.Development?await((w=qt())===null||w===void 0||(m=w.getCriticalCss)===null||m===void 0?void 0:m.call(w,t,u.pathname)):void 0;p=await Ga(a,t,i,l,c,d,g)}return l.method==="HEAD"?new Response(null,{headers:p.headers,status:p.status,statusText:p.statusText}):p}};async function Ka(e,n,t,r,a,i,o){try{let s=await t.queryRoute(a,{routeId:r,requestContext:i});if(Ca(s)){let l=new Headers(s.headers),c=l.get("Location");return l.set("X-Remix-Redirect",n.basename&&_e(c,n.basename)||c),l.set("X-Remix-Status",s.status),l.delete("Location"),s.headers.get("Set-Cookie")!==null&&l.set("X-Remix-Revalidate","yes"),new Response(null,{status:204,headers:l})}if(ve in s){let l=s[ve],c=Oa(l,a.signal,e),u=l.init||{},f=new Headers(u.headers);return f.set("Content-Type","text/remix-deferred"),f.set("X-Remix-Response","yes"),u.headers=f,new Response(c,u)}return s.headers.set("X-Remix-Response","yes"),s}catch(s){if(Q(s))return s.headers.set("X-Remix-Catch","yes"),s;if(q(s))return s&&o(s),Cr(s,e);let l=s instanceof Error||s instanceof DOMException?s:new Error("Unexpected Server Error");return o(l),vt(be(l,e),{status:500,headers:{"X-Remix-Error":"yes"}})}}async function Ga(e,n,t,r,a,i,o){let s;try{s=await t.query(r,{requestContext:a})}catch(f){return i(f),new Response(null,{status:500})}if(Q(s))return s;s.errors&&(Object.values(s.errors).forEach(f=>{(!q(f)||f.error)&&i(f)}),s.errors=Nt(s.errors,e));let l=ka(n,s),c={manifest:n.assets,routeModules:Ea(n.routes),staticHandlerContext:s,criticalCss:o,serverHandoffString:Vt({url:s.location.pathname,basename:n.basename,criticalCss:o,state:{loaderData:s.loaderData,actionData:s.actionData,errors:Kt(s.errors,e)},future:n.future,isSpaMode:n.isSpaMode}),future:n.future,isSpaMode:n.isSpaMode,serializeError:f=>be(f,e)},u=n.entry.module.default;try{return await u(r,s.statusCode,l,c,a)}catch(f){i(f);let d=f;if(Q(f)){let p;try{let y=f.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?f.body==null?p=null:p=await f.json():p=await f.text(),d=new wt(f.status,f.statusText,p)}catch{}}s=fa(t.dataRoutes,s,d),s.errors&&(s.errors=Nt(s.errors,e)),c={...c,staticHandlerContext:s,serverHandoffString:Vt({url:s.location.pathname,basename:n.basename,state:{loaderData:s.loaderData,actionData:s.actionData,errors:Kt(s.errors,e)},future:n.future,isSpaMode:n.isSpaMode})};try{return await u(r,s.statusCode,l,c,a)}catch(p){return i(p),xr(p,e)}}}async function Wa(e,n,t,r,a,i){try{let o=await n.queryRoute(r,{routeId:t,requestContext:a});return Wt(!(ve in o),`You cannot return a \`defer()\` response from a Resource Route.  Did you forget to export a default UI component from the "${t}" route?`),Wt(Q(o),"Expected a Response to be returned from queryRoute"),o}catch(o){return Q(o)?(o.headers.set("X-Remix-Catch","yes"),o):q(o)?(o&&i(o),Cr(o,e)):(i(o),xr(o,e))}}function Cr(e,n){return vt(be(e.error||new Error("Unexpected Server Error"),n),{status:e.status,statusText:e.statusText,headers:{"X-Remix-Error":"yes"}})}function xr(e,n){let t="Unexpected Server Error";return n!==K.Production&&(t+=`

${String(e)}`),new Response(t,{status:500,headers:{"Content-Type":"text/plain"}})}/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ve(e){return`__flash_${e}__`}const St=(e={},n="")=>{let t=new Map(Object.entries(e));return{get id(){return n},get data(){return Object.fromEntries(t)},has(r){return t.has(r)||t.has(Ve(r))},get(r){if(t.has(r))return t.get(r);let a=Ve(r);if(t.has(a)){let i=t.get(a);return t.delete(a),i}},set(r,a){t.set(r,a)},flash(r,a){t.set(Ve(r),a)},unset(r){t.delete(r)}}},Va=e=>e!=null&&typeof e.id=="string"&&typeof e.data<"u"&&typeof e.has=="function"&&typeof e.get=="function"&&typeof e.set=="function"&&typeof e.flash=="function"&&typeof e.unset=="function",qa=e=>({cookie:n,createData:t,readData:r,updateData:a,deleteData:i})=>{let o=gt(n)?n:e((n==null?void 0:n.name)||"__session",n);return Ur(o),{async getSession(s,l){let c=s&&await o.parse(s,l),u=c&&await r(c);return St(u||{},c||"")},async commitSession(s,l){let{id:c,data:u}=s,f=(l==null?void 0:l.maxAge)!=null?new Date(Date.now()+l.maxAge*1e3):(l==null?void 0:l.expires)!=null?l.expires:o.expires;return c?await a(c,u,f):c=await t(u,f),o.serialize(c,l)},async destroySession(s,l){return await i(s.id),o.serialize("",{...l,maxAge:void 0,expires:new Date(0)})}}};function Ur(e){nr(e.isSigned,`The "${e.name}" cookie is not signed, but session cookies should be signed to prevent tampering on the client before they are sent back to the server. See https://remix.run/utils/cookies#signing-cookies for more information.`)}/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Xa=e=>({cookie:n}={})=>{let t=gt(n)?n:e((n==null?void 0:n.name)||"__session",n);return Ur(t),{async getSession(r,a){return St(r&&await t.parse(r,a)||{})},async commitSession(r,a){let i=await t.serialize(r.data,a);if(i.length>4096)throw new Error("Cookie length will exceed browser maximum. Length: "+i.length);return i},async destroySession(r,a){return t.serialize("",{...a,maxAge:void 0,expires:new Date(0)})}}};/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Ja=e=>({cookie:n}={})=>{let t=new Map;return e({cookie:n,async createData(r,a){let i=Math.random().toString(36).substring(2,10);return t.set(i,{data:r,expires:a}),i},async readData(r){if(t.has(r)){let{data:a,expires:i}=t.get(r);if(!i||i>new Date)return a;i&&t.delete(r)}return null},async updateData(r,a,i){t.set(r,{data:a,expires:i})},async deleteData(r){t.delete(r)}})};/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */class Or extends Error{constructor(n,t){super(`Field "${n}" exceeded upload size of ${t} bytes.`),this.field=n,this.maxBytes=t}}/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ya({filter:e,maxPartSize:n=3e6}={}){return async({filename:t,contentType:r,name:a,data:i})=>{if(e&&!await e({filename:t,contentType:r,name:a}))return;let o=0,s=[];for await(let l of i){if(o+=l.byteLength,o>n)throw new Or(a,n);s.push(l)}return typeof t=="string"?new File(s,t,{type:r}):await new Blob(s,{type:r}).text()}}/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Qa=Object.freeze(Object.defineProperty({__proto__:null,MaxPartSizeExceededError:Or,broadcastDevReady:Ha,createCookieFactory:dn,createCookieSessionStorageFactory:Xa,createMemorySessionStorageFactory:Ja,createRequestHandler:Na,createSession:St,createSessionStorageFactory:qa,defer:_a,isCookie:gt,isSession:Va,json:bt,logDevReady:Ba,redirect:gr,redirectDocument:ba,unstable_composeUploadHandlers:En,unstable_createMemoryUploadHandler:Ya,unstable_parseMultipartFormData:Pn,unstable_setDevServerHooks:za},Symbol.toStringTag,{value:"Module"}));function Jo(e){return Qr({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(e)}const Za=()=>{const[e,n]=Zr.useState(!1),t=()=>{n(!e)};return[e?"text":"password",me.jsx("span",{onClick:t,className:"w-[10%] opacity-60 cursor-pointer px-3",children:e?me.jsx(en,{}):me.jsx(tn,{})})]},Yo=Za,ei=({children:e})=>me.jsx("p",{className:"text-white bg-red-500 p-2 text-center capitalize font-semibold rounded-md",children:e}),Qo=ei;var ti={},Rt={},X={};const le=pt(Qa);var ht={exports:{}},qe,Jt;function ri(){if(Jt)return qe;Jt=1;var e=1e3,n=e*60,t=n*60,r=t*24,a=r*7,i=r*365.25;qe=function(u,f){f=f||{};var d=typeof u;if(d==="string"&&u.length>0)return o(u);if(d==="number"&&isFinite(u))return f.long?l(u):s(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function o(u){if(u=String(u),!(u.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(f){var d=parseFloat(f[1]),p=(f[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return d*i;case"weeks":case"week":case"w":return d*a;case"days":case"day":case"d":return d*r;case"hours":case"hour":case"hrs":case"hr":case"h":return d*t;case"minutes":case"minute":case"mins":case"min":case"m":return d*n;case"seconds":case"second":case"secs":case"sec":case"s":return d*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}function s(u){var f=Math.abs(u);return f>=r?Math.round(u/r)+"d":f>=t?Math.round(u/t)+"h":f>=n?Math.round(u/n)+"m":f>=e?Math.round(u/e)+"s":u+"ms"}function l(u){var f=Math.abs(u);return f>=r?c(u,f,r,"day"):f>=t?c(u,f,t,"hour"):f>=n?c(u,f,n,"minute"):f>=e?c(u,f,e,"second"):u+" ms"}function c(u,f,d,p){var y=f>=d*1.5;return Math.round(u/d)+" "+p+(y?"s":"")}return qe}function ni(e){t.debug=t,t.default=t,t.coerce=l,t.disable=i,t.enable=a,t.enabled=o,t.humanize=ri(),t.destroy=c,Object.keys(e).forEach(u=>{t[u]=e[u]}),t.names=[],t.skips=[],t.formatters={};function n(u){let f=0;for(let d=0;d<u.length;d++)f=(f<<5)-f+u.charCodeAt(d),f|=0;return t.colors[Math.abs(f)%t.colors.length]}t.selectColor=n;function t(u){let f,d=null,p,y;function w(...m){if(!w.enabled)return;const g=w,h=Number(new Date),v=h-(f||h);g.diff=v,g.prev=f,g.curr=h,f=h,m[0]=t.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");let _=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,(R,C)=>{if(R==="%%")return"%";_++;const x=t.formatters[C];if(typeof x=="function"){const O=m[_];R=x.call(g,O),m.splice(_,1),_--}return R}),t.formatArgs.call(g,m),(g.log||t.log).apply(g,m)}return w.namespace=u,w.useColors=t.useColors(),w.color=t.selectColor(u),w.extend=r,w.destroy=t.destroy,Object.defineProperty(w,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(p!==t.namespaces&&(p=t.namespaces,y=t.enabled(u)),y),set:m=>{d=m}}),typeof t.init=="function"&&t.init(w),w}function r(u,f){const d=t(this.namespace+(typeof f>"u"?":":f)+u);return d.log=this.log,d}function a(u){t.save(u),t.namespaces=u,t.names=[],t.skips=[];let f;const d=(typeof u=="string"?u:"").split(/[\s,]+/),p=d.length;for(f=0;f<p;f++)d[f]&&(u=d[f].replace(/\*/g,".*?"),u[0]==="-"?t.skips.push(new RegExp("^"+u.slice(1)+"$")):t.names.push(new RegExp("^"+u+"$")))}function i(){const u=[...t.names.map(s),...t.skips.map(s).map(f=>"-"+f)].join(",");return t.enable(""),u}function o(u){if(u[u.length-1]==="*")return!0;let f,d;for(f=0,d=t.skips.length;f<d;f++)if(t.skips[f].test(u))return!1;for(f=0,d=t.names.length;f<d;f++)if(t.names[f].test(u))return!0;return!1}function s(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}var ai=ni;(function(e,n){var t={};n.formatArgs=a,n.save=i,n.load=o,n.useColors=r,n.storage=s(),n.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function a(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let f=0,d=0;c[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(f++,p==="%c"&&(d=f))}),c.splice(d,0,u)}n.log=console.debug||console.log||(()=>{});function i(c){try{c?n.storage.setItem("debug",c):n.storage.removeItem("debug")}catch{}}function o(){let c;try{c=n.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=t.DEBUG),c}function s(){try{return localStorage}catch{}}e.exports=ai(n);const{formatters:l}=e.exports;l.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(ht,ht.exports);var Er=ht.exports,Re={},Ce={};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.Authenticator=void 0;const ae=le;class ii{constructor(n,t={}){var r;this.sessionStorage=n,this.strategies=new Map,this.sessionKey=t.sessionKey||"user",this.sessionErrorKey=t.sessionErrorKey||"auth:error",this.sessionStrategyKey=t.sessionStrategyKey||"strategy",this.throwOnError=(r=t.throwOnError)!==null&&r!==void 0?r:!1}use(n,t){return this.strategies.set(t??n.name,n),this}unuse(n){return this.strategies.delete(n),this}authenticate(n,t,r={}){const a=this.strategies.get(n);if(!a)throw new Error(`Strategy ${n} not found.`);return a.authenticate(new Request(t.url,t),this.sessionStorage,{throwOnError:this.throwOnError,...r,name:n,sessionKey:this.sessionKey,sessionErrorKey:this.sessionErrorKey,sessionStrategyKey:this.sessionStrategyKey})}async isAuthenticated(n,t={}){var r;let i=(r=((0,ae.isSession)(n)?n:await this.sessionStorage.getSession(n.headers.get("Cookie"))).get(this.sessionKey))!==null&&r!==void 0?r:null;if(i){if(t.successRedirect)throw(0,ae.redirect)(t.successRedirect,{headers:t.headers});return i}if(t.failureRedirect)throw(0,ae.redirect)(t.failureRedirect,{headers:t.headers});return null}async logout(n,t){let r=(0,ae.isSession)(n)?n:await this.sessionStorage.getSession(n.headers.get("Cookie"));throw(0,ae.redirect)(t.redirectTo,{headers:{"Set-Cookie":await this.sessionStorage.destroySession(r)}})}}Ce.Authenticator=ii;var xe={};Object.defineProperty(xe,"__esModule",{value:!0});xe.Authorizer=void 0;const ie=le;class oi{constructor(n,t=[]){this.authenticator=n,this.rules=t}async authorize(n,{failureRedirect:t,raise:r="response",rules:a=[]}={}){let i=await this.authenticator.isAuthenticated(n.request);if(!i)throw r==="response"?(0,ie.json)({message:"Not authenticated."},{status:401}):r==="redirect"?(0,ie.redirect)(t):new Error("Not authenticated.");for(let o of[...this.rules,...a])if(!await o({user:i,...n}))throw r==="redirect"?(0,ie.redirect)(t):r==="response"?o.name?(0,ie.json)({message:`Forbidden by policy ${o.name}`},{status:403}):(0,ie.json)({message:"Forbidden"},{status:403}):o.name?new Error(`Forbidden by policy ${o.name}`):new Error("Forbidden.");return i}}xe.Authorizer=oi;var ce={};Object.defineProperty(ce,"__esModule",{value:!0});ce.AuthorizationError=void 0;class si extends Error{constructor(n,t){super(n),this.cause=t}}ce.AuthorizationError=si;var Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.Strategy=void 0;const Xe=le,ui=ce;class li{constructor(n){this.verify=n}async failure(n,t,r,a,i){if(!a.failureRedirect)throw a.throwOnError?new ui.AuthorizationError(n,i):(0,Xe.json)({message:n},401);let o=await r.getSession(t.headers.get("Cookie"));throw o.flash(a.sessionErrorKey,{message:n}),(0,Xe.redirect)(a.failureRedirect,{headers:{"Set-Cookie":await r.commitSession(o)}})}async success(n,t,r,a){var i;if(!a.successRedirect)return n;let o=await r.getSession(t.headers.get("Cookie"));throw o.set(a.sessionKey,n),o.set(a.sessionStrategyKey,(i=a.name)!==null&&i!==void 0?i:this.name),(0,Xe.redirect)(a.successRedirect,{headers:{"Set-Cookie":await r.commitSession(o)}})}}Ue.Strategy=li;(function(e){var n=S&&S.__createBinding||(Object.create?function(r,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(r,o,s)}:function(r,a,i,o){o===void 0&&(o=i),r[o]=a[i]}),t=S&&S.__exportStar||function(r,a){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&n(a,r,i)};Object.defineProperty(e,"__esModule",{value:!0}),t(Ce,e),t(xe,e),t(ce,e),t(Ue,e)})(Re);var Pr={},Oe={},Ee={};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.default=fi;let pe;const ci=new Uint8Array(16);function fi(){if(!pe&&(pe=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!pe))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return pe(ci)}var J={},Z={},Pe={};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.default=void 0;var di=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;Pe.default=di;Object.defineProperty(Z,"__esModule",{value:!0});Z.default=void 0;var hi=pi(Pe);function pi(e){return e&&e.__esModule?e:{default:e}}function gi(e){return typeof e=="string"&&hi.default.test(e)}var mi=gi;Z.default=mi;Object.defineProperty(J,"__esModule",{value:!0});J.default=void 0;J.unsafeStringify=Dr;var yi=vi(Z);function vi(e){return e&&e.__esModule?e:{default:e}}const P=[];for(let e=0;e<256;++e)P.push((e+256).toString(16).slice(1));function Dr(e,n=0){return P[e[n+0]]+P[e[n+1]]+P[e[n+2]]+P[e[n+3]]+"-"+P[e[n+4]]+P[e[n+5]]+"-"+P[e[n+6]]+P[e[n+7]]+"-"+P[e[n+8]]+P[e[n+9]]+"-"+P[e[n+10]]+P[e[n+11]]+P[e[n+12]]+P[e[n+13]]+P[e[n+14]]+P[e[n+15]]}function wi(e,n=0){const t=Dr(e,n);if(!(0,yi.default)(t))throw TypeError("Stringified UUID is invalid");return t}var _i=wi;J.default=_i;Object.defineProperty(Oe,"__esModule",{value:!0});Oe.default=void 0;var bi=Ri(Ee),Si=J;function Ri(e){return e&&e.__esModule?e:{default:e}}let Yt,Je,Ye=0,Qe=0;function Ci(e,n,t){let r=n&&t||0;const a=n||new Array(16);e=e||{};let i=e.node||Yt,o=e.clockseq!==void 0?e.clockseq:Je;if(i==null||o==null){const d=e.random||(e.rng||bi.default)();i==null&&(i=Yt=[d[0]|1,d[1],d[2],d[3],d[4],d[5]]),o==null&&(o=Je=(d[6]<<8|d[7])&16383)}let s=e.msecs!==void 0?e.msecs:Date.now(),l=e.nsecs!==void 0?e.nsecs:Qe+1;const c=s-Ye+(l-Qe)/1e4;if(c<0&&e.clockseq===void 0&&(o=o+1&16383),(c<0||s>Ye)&&e.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Ye=s,Qe=l,Je=o,s+=122192928e5;const u=((s&268435455)*1e4+l)%4294967296;a[r++]=u>>>24&255,a[r++]=u>>>16&255,a[r++]=u>>>8&255,a[r++]=u&255;const f=s/4294967296*1e4&268435455;a[r++]=f>>>8&255,a[r++]=f&255,a[r++]=f>>>24&15|16,a[r++]=f>>>16&255,a[r++]=o>>>8|128,a[r++]=o&255;for(let d=0;d<6;++d)a[r+d]=i[d];return n||(0,Si.unsafeStringify)(a)}var xi=Ci;Oe.default=xi;var De={},V={},fe={};Object.defineProperty(fe,"__esModule",{value:!0});fe.default=void 0;var Ui=Oi(Z);function Oi(e){return e&&e.__esModule?e:{default:e}}function Ei(e){if(!(0,Ui.default)(e))throw TypeError("Invalid UUID");let n;const t=new Uint8Array(16);return t[0]=(n=parseInt(e.slice(0,8),16))>>>24,t[1]=n>>>16&255,t[2]=n>>>8&255,t[3]=n&255,t[4]=(n=parseInt(e.slice(9,13),16))>>>8,t[5]=n&255,t[6]=(n=parseInt(e.slice(14,18),16))>>>8,t[7]=n&255,t[8]=(n=parseInt(e.slice(19,23),16))>>>8,t[9]=n&255,t[10]=(n=parseInt(e.slice(24,36),16))/1099511627776&255,t[11]=n/4294967296&255,t[12]=n>>>24&255,t[13]=n>>>16&255,t[14]=n>>>8&255,t[15]=n&255,t}var Pi=Ei;fe.default=Pi;Object.defineProperty(V,"__esModule",{value:!0});V.URL=V.DNS=void 0;V.default=$i;var Di=J,Ai=ki(fe);function ki(e){return e&&e.__esModule?e:{default:e}}function Li(e){e=unescape(encodeURIComponent(e));const n=[];for(let t=0;t<e.length;++t)n.push(e.charCodeAt(t));return n}const Ar="6ba7b810-9dad-11d1-80b4-00c04fd430c8";V.DNS=Ar;const kr="6ba7b811-9dad-11d1-80b4-00c04fd430c8";V.URL=kr;function $i(e,n,t){function r(a,i,o,s){var l;if(typeof a=="string"&&(a=Li(a)),typeof i=="string"&&(i=(0,Ai.default)(i)),((l=i)===null||l===void 0?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+a.length);if(c.set(i),c.set(a,i.length),c=t(c),c[6]=c[6]&15|n,c[8]=c[8]&63|128,o){s=s||0;for(let u=0;u<16;++u)o[s+u]=c[u];return o}return(0,Di.unsafeStringify)(c)}try{r.name=e}catch{}return r.DNS=Ar,r.URL=kr,r}var Ae={};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.default=void 0;function ji(e){if(typeof e=="string"){const n=unescape(encodeURIComponent(e));e=new Uint8Array(n.length);for(let t=0;t<n.length;++t)e[t]=n.charCodeAt(t)}return Ti(Mi(Fi(e),e.length*8))}function Ti(e){const n=[],t=e.length*32,r="0123456789abcdef";for(let a=0;a<t;a+=8){const i=e[a>>5]>>>a%32&255,o=parseInt(r.charAt(i>>>4&15)+r.charAt(i&15),16);n.push(o)}return n}function Lr(e){return(e+64>>>9<<4)+14+1}function Mi(e,n){e[n>>5]|=128<<n%32,e[Lr(n)-1]=n;let t=1732584193,r=-271733879,a=-1732584194,i=271733878;for(let o=0;o<e.length;o+=16){const s=t,l=r,c=a,u=i;t=A(t,r,a,i,e[o],7,-680876936),i=A(i,t,r,a,e[o+1],12,-389564586),a=A(a,i,t,r,e[o+2],17,606105819),r=A(r,a,i,t,e[o+3],22,-1044525330),t=A(t,r,a,i,e[o+4],7,-176418897),i=A(i,t,r,a,e[o+5],12,1200080426),a=A(a,i,t,r,e[o+6],17,-1473231341),r=A(r,a,i,t,e[o+7],22,-45705983),t=A(t,r,a,i,e[o+8],7,1770035416),i=A(i,t,r,a,e[o+9],12,-1958414417),a=A(a,i,t,r,e[o+10],17,-42063),r=A(r,a,i,t,e[o+11],22,-1990404162),t=A(t,r,a,i,e[o+12],7,1804603682),i=A(i,t,r,a,e[o+13],12,-40341101),a=A(a,i,t,r,e[o+14],17,-1502002290),r=A(r,a,i,t,e[o+15],22,1236535329),t=k(t,r,a,i,e[o+1],5,-165796510),i=k(i,t,r,a,e[o+6],9,-1069501632),a=k(a,i,t,r,e[o+11],14,643717713),r=k(r,a,i,t,e[o],20,-373897302),t=k(t,r,a,i,e[o+5],5,-701558691),i=k(i,t,r,a,e[o+10],9,38016083),a=k(a,i,t,r,e[o+15],14,-660478335),r=k(r,a,i,t,e[o+4],20,-405537848),t=k(t,r,a,i,e[o+9],5,568446438),i=k(i,t,r,a,e[o+14],9,-1019803690),a=k(a,i,t,r,e[o+3],14,-187363961),r=k(r,a,i,t,e[o+8],20,1163531501),t=k(t,r,a,i,e[o+13],5,-1444681467),i=k(i,t,r,a,e[o+2],9,-51403784),a=k(a,i,t,r,e[o+7],14,1735328473),r=k(r,a,i,t,e[o+12],20,-1926607734),t=L(t,r,a,i,e[o+5],4,-378558),i=L(i,t,r,a,e[o+8],11,-2022574463),a=L(a,i,t,r,e[o+11],16,1839030562),r=L(r,a,i,t,e[o+14],23,-35309556),t=L(t,r,a,i,e[o+1],4,-1530992060),i=L(i,t,r,a,e[o+4],11,1272893353),a=L(a,i,t,r,e[o+7],16,-155497632),r=L(r,a,i,t,e[o+10],23,-1094730640),t=L(t,r,a,i,e[o+13],4,681279174),i=L(i,t,r,a,e[o],11,-358537222),a=L(a,i,t,r,e[o+3],16,-722521979),r=L(r,a,i,t,e[o+6],23,76029189),t=L(t,r,a,i,e[o+9],4,-640364487),i=L(i,t,r,a,e[o+12],11,-421815835),a=L(a,i,t,r,e[o+15],16,530742520),r=L(r,a,i,t,e[o+2],23,-995338651),t=$(t,r,a,i,e[o],6,-198630844),i=$(i,t,r,a,e[o+7],10,1126891415),a=$(a,i,t,r,e[o+14],15,-1416354905),r=$(r,a,i,t,e[o+5],21,-57434055),t=$(t,r,a,i,e[o+12],6,1700485571),i=$(i,t,r,a,e[o+3],10,-1894986606),a=$(a,i,t,r,e[o+10],15,-1051523),r=$(r,a,i,t,e[o+1],21,-2054922799),t=$(t,r,a,i,e[o+8],6,1873313359),i=$(i,t,r,a,e[o+15],10,-30611744),a=$(a,i,t,r,e[o+6],15,-1560198380),r=$(r,a,i,t,e[o+13],21,1309151649),t=$(t,r,a,i,e[o+4],6,-145523070),i=$(i,t,r,a,e[o+11],10,-1120210379),a=$(a,i,t,r,e[o+2],15,718787259),r=$(r,a,i,t,e[o+9],21,-343485551),t=G(t,s),r=G(r,l),a=G(a,c),i=G(i,u)}return[t,r,a,i]}function Fi(e){if(e.length===0)return[];const n=e.length*8,t=new Uint32Array(Lr(n));for(let r=0;r<n;r+=8)t[r>>5]|=(e[r/8]&255)<<r%32;return t}function G(e,n){const t=(e&65535)+(n&65535);return(e>>16)+(n>>16)+(t>>16)<<16|t&65535}function Ii(e,n){return e<<n|e>>>32-n}function ke(e,n,t,r,a,i){return G(Ii(G(G(n,e),G(r,i)),a),t)}function A(e,n,t,r,a,i,o){return ke(n&t|~n&r,e,n,a,i,o)}function k(e,n,t,r,a,i,o){return ke(n&r|t&~r,e,n,a,i,o)}function L(e,n,t,r,a,i,o){return ke(n^t^r,e,n,a,i,o)}function $(e,n,t,r,a,i,o){return ke(t^(n|~r),e,n,a,i,o)}var Hi=ji;Ae.default=Hi;Object.defineProperty(De,"__esModule",{value:!0});De.default=void 0;var Bi=$r(V),zi=$r(Ae);function $r(e){return e&&e.__esModule?e:{default:e}}const Ni=(0,Bi.default)("v3",48,zi.default);var Ki=Ni;De.default=Ki;var Le={},$e={};Object.defineProperty($e,"__esModule",{value:!0});$e.default=void 0;const Gi=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var Wi={randomUUID:Gi};$e.default=Wi;Object.defineProperty(Le,"__esModule",{value:!0});Le.default=void 0;var Qt=jr($e),Vi=jr(Ee),qi=J;function jr(e){return e&&e.__esModule?e:{default:e}}function Xi(e,n,t){if(Qt.default.randomUUID&&!n&&!e)return Qt.default.randomUUID();e=e||{};const r=e.random||(e.rng||Vi.default)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,n){t=t||0;for(let a=0;a<16;++a)n[t+a]=r[a];return n}return(0,qi.unsafeStringify)(r)}var Ji=Xi;Le.default=Ji;var je={},Te={};Object.defineProperty(Te,"__esModule",{value:!0});Te.default=void 0;function Yi(e,n,t,r){switch(e){case 0:return n&t^~n&r;case 1:return n^t^r;case 2:return n&t^n&r^t&r;case 3:return n^t^r}}function Ze(e,n){return e<<n|e>>>32-n}function Qi(e){const n=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){const o=unescape(encodeURIComponent(e));e=[];for(let s=0;s<o.length;++s)e.push(o.charCodeAt(s))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const r=e.length/4+2,a=Math.ceil(r/16),i=new Array(a);for(let o=0;o<a;++o){const s=new Uint32Array(16);for(let l=0;l<16;++l)s[l]=e[o*64+l*4]<<24|e[o*64+l*4+1]<<16|e[o*64+l*4+2]<<8|e[o*64+l*4+3];i[o]=s}i[a-1][14]=(e.length-1)*8/Math.pow(2,32),i[a-1][14]=Math.floor(i[a-1][14]),i[a-1][15]=(e.length-1)*8&4294967295;for(let o=0;o<a;++o){const s=new Uint32Array(80);for(let p=0;p<16;++p)s[p]=i[o][p];for(let p=16;p<80;++p)s[p]=Ze(s[p-3]^s[p-8]^s[p-14]^s[p-16],1);let l=t[0],c=t[1],u=t[2],f=t[3],d=t[4];for(let p=0;p<80;++p){const y=Math.floor(p/20),w=Ze(l,5)+Yi(y,c,u,f)+d+n[y]+s[p]>>>0;d=f,f=u,u=Ze(c,30)>>>0,c=l,l=w}t[0]=t[0]+l>>>0,t[1]=t[1]+c>>>0,t[2]=t[2]+u>>>0,t[3]=t[3]+f>>>0,t[4]=t[4]+d>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var Zi=Qi;Te.default=Zi;Object.defineProperty(je,"__esModule",{value:!0});je.default=void 0;var eo=Tr(V),to=Tr(Te);function Tr(e){return e&&e.__esModule?e:{default:e}}const ro=(0,eo.default)("v5",80,to.default);var no=ro;je.default=no;var Me={};Object.defineProperty(Me,"__esModule",{value:!0});Me.default=void 0;var ao="00000000-0000-0000-0000-000000000000";Me.default=ao;var Fe={};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.default=void 0;var io=oo(Z);function oo(e){return e&&e.__esModule?e:{default:e}}function so(e){if(!(0,io.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var uo=so;Fe.default=uo;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return o.default}});var n=u(Oe),t=u(De),r=u(Le),a=u(je),i=u(Me),o=u(Fe),s=u(Z),l=u(J),c=u(fe);function u(f){return f&&f.__esModule?f:{default:f}}})(Pr);var lo=S&&S.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(X,"__esModule",{value:!0});X.OAuth2Strategy=void 0;const co=le,fo=lo(Er),ho=Re,po=Pr;let z=(0,fo.default)("OAuth2Strategy");class go extends ho.Strategy{constructor(n,t){var r,a;super(t),this.name="oauth2",this.sessionStateKey="oauth2:state",this.authorizationURL=n.authorizationURL,this.tokenURL=n.tokenURL,this.clientID=n.clientID,this.clientSecret=n.clientSecret,this.callbackURL=n.callbackURL,this.scope=n.scope,this.responseType=(r=n.responseType)!==null&&r!==void 0?r:"code",this.useBasicAuthenticationHeader=(a=n.useBasicAuthenticationHeader)!==null&&a!==void 0?a:!1}async authenticate(n,t,r){var a;z("Request URL",n.url);let i=new URL(n.url),o=await t.getSession(n.headers.get("Cookie")),s=(a=o.get(r.sessionKey))!==null&&a!==void 0?a:null;if(s)return z("User is authenticated"),this.success(s,n,t,r);let l=this.getCallbackURL(n);if(z("Callback URL",l),i.pathname!==l.pathname){z("Redirecting to callback URL");let d=this.generateState();throw z("State",d),o.set(this.sessionStateKey,d),(0,co.redirect)(this.getAuthorizationURL(n,d).toString(),{headers:{"Set-Cookie":await t.commitSession(o)}})}let c=i.searchParams.get("state");if(z("State from URL",c),!c)return await this.failure("Missing state on URL.",n,t,r,new Error("Missing state on URL."));let u=o.get(this.sessionStateKey);if(z("State from session",u),!u)return await this.failure("Missing state on session.",n,t,r,new Error("Missing state on session."));if(u===c)z("State is valid"),o.unset(this.sessionStateKey);else return await this.failure("State doesn't match.",n,t,r,new Error("State doesn't match."));let f=i.searchParams.get("code");if(!f)return await this.failure("Missing code.",n,t,r,new Error("Missing code."));try{let d=new URLSearchParams(this.tokenParams());d.set("grant_type","authorization_code"),d.set("redirect_uri",l.toString());let{accessToken:p,refreshToken:y,extraParams:w}=await this.fetchAccessToken(f,d),m=await this.userProfile(p,w);s=await this.verify({accessToken:p,refreshToken:y,extraParams:w,profile:m,context:r.context,request:n})}catch(d){if(z("Failed to verify user",d),d instanceof Response)throw d;return d instanceof Error?await this.failure(d.message,n,t,r,d):typeof d=="string"?await this.failure(d,n,t,r,new Error(d)):await this.failure("Unknown error",n,t,r,new Error(JSON.stringify(d,null,2)))}return z("User authenticated"),await this.success(s,n,t,r)}async userProfile(n,t){return{provider:"oauth2"}}authorizationParams(n){return new URLSearchParams(n)}tokenParams(){return new URLSearchParams}async getAccessToken(n){let{access_token:t,refresh_token:r,...a}=await n.json();return{accessToken:t,refreshToken:r,extraParams:a}}getCallbackURL(n){var t,r;if(this.callbackURL.startsWith("http:")||this.callbackURL.startsWith("https:"))return new URL(this.callbackURL);let a=(r=(t=n.headers.get("X-Forwarded-Host"))!==null&&t!==void 0?t:n.headers.get("host"))!==null&&r!==void 0?r:new URL(n.url).host,i=a.includes("localhost")?"http":"https";return this.callbackURL.startsWith("/")?new URL(this.callbackURL,`${i}://${a}`):new URL(`${i}://${this.callbackURL}`)}getAuthorizationURL(n,t){let r=new URLSearchParams(this.authorizationParams(new URL(n.url).searchParams));r.set("response_type",this.responseType),r.set("client_id",this.clientID),r.set("redirect_uri",this.getCallbackURL(n).toString()),r.set("state",t),!r.has("scope")&&this.scope&&r.set("scope",this.scope);let a=new URL(this.authorizationURL);return a.search=r.toString(),a}generateState(){return(0,po.v4)()}async fetchAccessToken(n,t){let r={"Content-Type":"application/x-www-form-urlencoded"};if(this.useBasicAuthenticationHeader){const i=Buffer.from(`${this.clientID}:${this.clientSecret}`).toString("base64");r={...r,Authorization:`Basic ${i}`}}else t.set("client_id",this.clientID),t.set("client_secret",this.clientSecret);t.get("grant_type")==="refresh_token"?t.set("refresh_token",n):t.set("code",n);let a=await fetch(this.tokenURL,{method:"POST",headers:r,body:t});if(!a.ok)throw await a.text();return await this.getAccessToken(a.clone())}}X.OAuth2Strategy=go;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscordStrategy=e.DiscordStrategyDefaultName=void 0;const n=X,t="https://discord.com/api/v10";e.DiscordStrategyDefaultName="discord";class r extends n.OAuth2Strategy{constructor({clientID:i,clientSecret:o,callbackURL:s,scope:l,prompt:c},u){super({clientID:i,clientSecret:o,callbackURL:s,authorizationURL:`${t}/oauth2/authorize`,tokenURL:`${t}/oauth2/token`},u),this.name=e.DiscordStrategyDefaultName,this.userInfoURL=`${t}/users/@me`,this.scope=(l??["identify","email"]).join(" "),this.prompt=c}authorizationParams(){const i=new URLSearchParams({scope:this.scope});return this.prompt&&i.set("prompt",this.prompt),i}async userProfile(i){var o;const l=await(await fetch(this.userInfoURL,{headers:{Authorization:`Bearer ${i}`}})).json();return{provider:e.DiscordStrategyDefaultName,id:l.id,displayName:(o=l.global_name)!==null&&o!==void 0?o:l.username,emails:l.email?[{value:l.email}]:void 0,photos:l.avatar?[{value:l.avatar}]:void 0,__json:l}}async getAccessToken(i){const{access_token:o,refresh_token:s,scope:l,...c}=await i.json();return{accessToken:o,refreshToken:s,extraParams:{...c,scope:l.split(" ")}}}}e.DiscordStrategy=r})(Rt);var Ct={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.GitHubStrategy=e.GitHubStrategyScopeSeperator=e.GitHubStrategyDefaultScope=e.GitHubStrategyDefaultName=void 0;const n=Re,t=X;e.GitHubStrategyDefaultName="github",e.GitHubStrategyDefaultScope="user:email",e.GitHubStrategyScopeSeperator=" ";class r extends t.OAuth2Strategy{constructor({clientID:o,clientSecret:s,callbackURL:l,scope:c,allowSignup:u,userAgent:f,userInfoURL:d="https://api.github.com/user",userEmailsURL:p="https://api.github.com/user/emails",authorizationURL:y="https://github.com/login/oauth/authorize",tokenURL:w="https://github.com/login/oauth/access_token"},m){super({clientID:o,clientSecret:s,callbackURL:l,authorizationURL:y,tokenURL:w},m),this.name=e.GitHubStrategyDefaultName,this.scope=this.getScope(c).join(e.GitHubStrategyScopeSeperator),this.allowSignup=u??!0,this.userAgent=f??"Remix Auth",this.userInfoURL=d,this.userEmailsURL=p}getScope(o){if(o){if(typeof o=="string")return o.split(e.GitHubStrategyScopeSeperator)}else return[e.GitHubStrategyDefaultScope];return o}authorizationParams(){return new URLSearchParams({scope:this.scope,allow_signup:String(this.allowSignup)})}async userEmails(o){return(await(await fetch(this.userEmailsURL,{headers:{Accept:"application/vnd.github.v3+json",Authorization:`token ${o}`,"User-Agent":this.userAgent}})).json()).filter(({verified:u})=>u).sort((u,f)=>u.primary&&!f.primary?-1:!u.primary&&f.primary?1:0).map(({email:u})=>({value:u}))}async userProfile(o){let l=await(await fetch(this.userInfoURL,{headers:{Accept:"application/vnd.github.v3+json",Authorization:`token ${o}`,"User-Agent":this.userAgent}})).json(),c=[{value:l.email}];return this.scope.includes(e.GitHubStrategyDefaultScope)&&(c=await this.userEmails(o)),{provider:"github",displayName:l.login,id:l.id.toString(),name:{familyName:l.name,givenName:l.name,middleName:l.name},emails:c,photos:[{value:l.avatar_url}],_json:l}}async getAccessToken(o){var s;let l=new URLSearchParams(await o.text()),c=l.get("access_token");if(!c)throw new n.AuthorizationError("Missing access token.");let u=l.get("token_type");if(!u)throw new n.AuthorizationError("Missing token type.");let f=(s=l.get("refresh_token"))!==null&&s!==void 0?s:"",d=a(l.get("expires_in")),p=a(l.get("refresh_token_expires_in"));return{accessToken:c,refreshToken:f,extraParams:{tokenType:u,accessTokenExpiresIn:d,refreshTokenExpiresIn:p}}}}e.GitHubStrategy=r;function a(i){if(!i)return null;try{return Number.parseInt(i,10)}catch{return null}}})(Ct);var xt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.GoogleStrategy=e.GoogleStrategyDefaultName=e.GoogleStrategyDefaultScopes=e.GoogleStrategyScopeSeperator=void 0;const n=X;e.GoogleStrategyScopeSeperator=" ",e.GoogleStrategyDefaultScopes=["openid","https://www.googleapis.com/auth/userinfo.profile","https://www.googleapis.com/auth/userinfo.email"].join(e.GoogleStrategyScopeSeperator),e.GoogleStrategyDefaultName="google";class t extends n.OAuth2Strategy{constructor({clientID:a,clientSecret:i,callbackURL:o,scope:s,accessType:l,includeGrantedScopes:c,prompt:u,hd:f,loginHint:d},p){super({clientID:a,clientSecret:i,callbackURL:o,authorizationURL:"https://accounts.google.com/o/oauth2/v2/auth",tokenURL:"https://oauth2.googleapis.com/token"},p),this.name=e.GoogleStrategyDefaultName,this.userInfoURL="https://www.googleapis.com/oauth2/v3/userinfo",this.scope=this.parseScope(s),this.accessType=l??"online",this.includeGrantedScopes=c??!1,this.prompt=u,this.hd=f,this.loginHint=d}authorizationParams(){const a=new URLSearchParams({access_type:this.accessType,include_granted_scopes:String(this.includeGrantedScopes)});return this.prompt&&a.set("prompt",this.prompt),this.hd&&a.set("hd",this.hd),this.loginHint&&a.set("login_hint",this.loginHint),a}async userProfile(a){const o=await(await fetch(this.userInfoURL,{headers:{Authorization:`Bearer ${a}`}})).json();return{provider:"google",id:o.sub,displayName:o.name,name:{familyName:o.family_name,givenName:o.given_name},emails:[{value:o.email}],photos:[{value:o.picture}],_json:o}}parseScope(a){if(a){if(Array.isArray(a))return a.join(e.GoogleStrategyScopeSeperator)}else return e.GoogleStrategyDefaultScopes;return a}}e.GoogleStrategy=t})(xt);var Ut={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MicrosoftStrategy=e.MicrosoftStrategyScopeSeperator=e.MicrosoftStrategyDefaultName=e.MicrosoftStrategyDefaultScopes=void 0;const n=X;e.MicrosoftStrategyDefaultScopes=["openid","profile","email"],e.MicrosoftStrategyDefaultName="microsoft",e.MicrosoftStrategyScopeSeperator=" ";class t extends n.OAuth2Strategy{constructor({clientId:a,clientSecret:i,redirectUri:o,scope:s,prompt:l,tenantId:c="common"},u){super({clientID:a,clientSecret:i,callbackURL:o,authorizationURL:`https://login.microsoftonline.com/${c}/oauth2/v2.0/authorize`,tokenURL:`https://login.microsoftonline.com/${c}/oauth2/v2.0/token`},u),this.name=e.MicrosoftStrategyDefaultName,this.userInfoURL="https://graph.microsoft.com/oidc/userinfo",this.scope=this.getScope(s),this.prompt=l??"none"}getScope(a){if(a){if(typeof a=="string")return a}else return e.MicrosoftStrategyDefaultScopes.join(e.MicrosoftStrategyScopeSeperator);return a.join(e.MicrosoftStrategyScopeSeperator)}authorizationParams(){return new URLSearchParams({scope:this.scope,prompt:this.prompt})}async userProfile(a){const o=await(await fetch(this.userInfoURL,{headers:{Authorization:`Bearer ${a}`}})).json();return{provider:e.MicrosoftStrategyDefaultName,displayName:o.name,id:o.sub,name:{familyName:o.family_name,givenName:o.given_name},emails:[{value:o.email}],_json:o}}}e.MicrosoftStrategy=t})(Ut);var Ot={},ge,mo=new Uint8Array(16);function Mr(){if(!ge&&(ge=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ge))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ge(mo)}const yo=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Ie(e){return typeof e=="string"&&yo.test(e)}var D=[];for(var et=0;et<256;++et)D.push((et+256).toString(16).substr(1));function He(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(D[e[n+0]]+D[e[n+1]]+D[e[n+2]]+D[e[n+3]]+"-"+D[e[n+4]]+D[e[n+5]]+"-"+D[e[n+6]]+D[e[n+7]]+"-"+D[e[n+8]]+D[e[n+9]]+"-"+D[e[n+10]]+D[e[n+11]]+D[e[n+12]]+D[e[n+13]]+D[e[n+14]]+D[e[n+15]]).toLowerCase();if(!Ie(t))throw TypeError("Stringified UUID is invalid");return t}var Zt,tt,rt=0,nt=0;function vo(e,n,t){var r=n&&t||0,a=n||new Array(16);e=e||{};var i=e.node||Zt,o=e.clockseq!==void 0?e.clockseq:tt;if(i==null||o==null){var s=e.random||(e.rng||Mr)();i==null&&(i=Zt=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),o==null&&(o=tt=(s[6]<<8|s[7])&16383)}var l=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:nt+1,u=l-rt+(c-nt)/1e4;if(u<0&&e.clockseq===void 0&&(o=o+1&16383),(u<0||l>rt)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");rt=l,nt=c,tt=o,l+=122192928e5;var f=((l&268435455)*1e4+c)%4294967296;a[r++]=f>>>24&255,a[r++]=f>>>16&255,a[r++]=f>>>8&255,a[r++]=f&255;var d=l/4294967296*1e4&268435455;a[r++]=d>>>8&255,a[r++]=d&255,a[r++]=d>>>24&15|16,a[r++]=d>>>16&255,a[r++]=o>>>8|128,a[r++]=o&255;for(var p=0;p<6;++p)a[r+p]=i[p];return n||He(a)}function Fr(e){if(!Ie(e))throw TypeError("Invalid UUID");var n,t=new Uint8Array(16);return t[0]=(n=parseInt(e.slice(0,8),16))>>>24,t[1]=n>>>16&255,t[2]=n>>>8&255,t[3]=n&255,t[4]=(n=parseInt(e.slice(9,13),16))>>>8,t[5]=n&255,t[6]=(n=parseInt(e.slice(14,18),16))>>>8,t[7]=n&255,t[8]=(n=parseInt(e.slice(19,23),16))>>>8,t[9]=n&255,t[10]=(n=parseInt(e.slice(24,36),16))/1099511627776&255,t[11]=n/4294967296&255,t[12]=n>>>24&255,t[13]=n>>>16&255,t[14]=n>>>8&255,t[15]=n&255,t}function wo(e){e=unescape(encodeURIComponent(e));for(var n=[],t=0;t<e.length;++t)n.push(e.charCodeAt(t));return n}var _o="6ba7b810-9dad-11d1-80b4-00c04fd430c8",bo="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Ir(e,n,t){function r(a,i,o,s){if(typeof a=="string"&&(a=wo(a)),typeof i=="string"&&(i=Fr(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+a.length);if(l.set(i),l.set(a,i.length),l=t(l),l[6]=l[6]&15|n,l[8]=l[8]&63|128,o){s=s||0;for(var c=0;c<16;++c)o[s+c]=l[c];return o}return He(l)}try{r.name=e}catch{}return r.DNS=_o,r.URL=bo,r}function So(e){if(typeof e=="string"){var n=unescape(encodeURIComponent(e));e=new Uint8Array(n.length);for(var t=0;t<n.length;++t)e[t]=n.charCodeAt(t)}return Ro(Co(xo(e),e.length*8))}function Ro(e){for(var n=[],t=e.length*32,r="0123456789abcdef",a=0;a<t;a+=8){var i=e[a>>5]>>>a%32&255,o=parseInt(r.charAt(i>>>4&15)+r.charAt(i&15),16);n.push(o)}return n}function Hr(e){return(e+64>>>9<<4)+14+1}function Co(e,n){e[n>>5]|=128<<n%32,e[Hr(n)-1]=n;for(var t=1732584193,r=-271733879,a=-1732584194,i=271733878,o=0;o<e.length;o+=16){var s=t,l=r,c=a,u=i;t=j(t,r,a,i,e[o],7,-680876936),i=j(i,t,r,a,e[o+1],12,-389564586),a=j(a,i,t,r,e[o+2],17,606105819),r=j(r,a,i,t,e[o+3],22,-1044525330),t=j(t,r,a,i,e[o+4],7,-176418897),i=j(i,t,r,a,e[o+5],12,1200080426),a=j(a,i,t,r,e[o+6],17,-1473231341),r=j(r,a,i,t,e[o+7],22,-45705983),t=j(t,r,a,i,e[o+8],7,1770035416),i=j(i,t,r,a,e[o+9],12,-1958414417),a=j(a,i,t,r,e[o+10],17,-42063),r=j(r,a,i,t,e[o+11],22,-1990404162),t=j(t,r,a,i,e[o+12],7,1804603682),i=j(i,t,r,a,e[o+13],12,-40341101),a=j(a,i,t,r,e[o+14],17,-1502002290),r=j(r,a,i,t,e[o+15],22,1236535329),t=T(t,r,a,i,e[o+1],5,-165796510),i=T(i,t,r,a,e[o+6],9,-1069501632),a=T(a,i,t,r,e[o+11],14,643717713),r=T(r,a,i,t,e[o],20,-373897302),t=T(t,r,a,i,e[o+5],5,-701558691),i=T(i,t,r,a,e[o+10],9,38016083),a=T(a,i,t,r,e[o+15],14,-660478335),r=T(r,a,i,t,e[o+4],20,-405537848),t=T(t,r,a,i,e[o+9],5,568446438),i=T(i,t,r,a,e[o+14],9,-1019803690),a=T(a,i,t,r,e[o+3],14,-187363961),r=T(r,a,i,t,e[o+8],20,1163531501),t=T(t,r,a,i,e[o+13],5,-1444681467),i=T(i,t,r,a,e[o+2],9,-51403784),a=T(a,i,t,r,e[o+7],14,1735328473),r=T(r,a,i,t,e[o+12],20,-1926607734),t=M(t,r,a,i,e[o+5],4,-378558),i=M(i,t,r,a,e[o+8],11,-2022574463),a=M(a,i,t,r,e[o+11],16,1839030562),r=M(r,a,i,t,e[o+14],23,-35309556),t=M(t,r,a,i,e[o+1],4,-1530992060),i=M(i,t,r,a,e[o+4],11,1272893353),a=M(a,i,t,r,e[o+7],16,-155497632),r=M(r,a,i,t,e[o+10],23,-1094730640),t=M(t,r,a,i,e[o+13],4,681279174),i=M(i,t,r,a,e[o],11,-358537222),a=M(a,i,t,r,e[o+3],16,-722521979),r=M(r,a,i,t,e[o+6],23,76029189),t=M(t,r,a,i,e[o+9],4,-640364487),i=M(i,t,r,a,e[o+12],11,-421815835),a=M(a,i,t,r,e[o+15],16,530742520),r=M(r,a,i,t,e[o+2],23,-995338651),t=F(t,r,a,i,e[o],6,-198630844),i=F(i,t,r,a,e[o+7],10,1126891415),a=F(a,i,t,r,e[o+14],15,-1416354905),r=F(r,a,i,t,e[o+5],21,-57434055),t=F(t,r,a,i,e[o+12],6,1700485571),i=F(i,t,r,a,e[o+3],10,-1894986606),a=F(a,i,t,r,e[o+10],15,-1051523),r=F(r,a,i,t,e[o+1],21,-2054922799),t=F(t,r,a,i,e[o+8],6,1873313359),i=F(i,t,r,a,e[o+15],10,-30611744),a=F(a,i,t,r,e[o+6],15,-1560198380),r=F(r,a,i,t,e[o+13],21,1309151649),t=F(t,r,a,i,e[o+4],6,-145523070),i=F(i,t,r,a,e[o+11],10,-1120210379),a=F(a,i,t,r,e[o+2],15,718787259),r=F(r,a,i,t,e[o+9],21,-343485551),t=W(t,s),r=W(r,l),a=W(a,c),i=W(i,u)}return[t,r,a,i]}function xo(e){if(e.length===0)return[];for(var n=e.length*8,t=new Uint32Array(Hr(n)),r=0;r<n;r+=8)t[r>>5]|=(e[r/8]&255)<<r%32;return t}function W(e,n){var t=(e&65535)+(n&65535),r=(e>>16)+(n>>16)+(t>>16);return r<<16|t&65535}function Uo(e,n){return e<<n|e>>>32-n}function Be(e,n,t,r,a,i){return W(Uo(W(W(n,e),W(r,i)),a),t)}function j(e,n,t,r,a,i,o){return Be(n&t|~n&r,e,n,a,i,o)}function T(e,n,t,r,a,i,o){return Be(n&r|t&~r,e,n,a,i,o)}function M(e,n,t,r,a,i,o){return Be(n^t^r,e,n,a,i,o)}function F(e,n,t,r,a,i,o){return Be(t^(n|~r),e,n,a,i,o)}var Oo=Ir("v3",48,So);const Eo=Oo;function Po(e,n,t){e=e||{};var r=e.random||(e.rng||Mr)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,n){t=t||0;for(var a=0;a<16;++a)n[t+a]=r[a];return n}return He(r)}function Do(e,n,t,r){switch(e){case 0:return n&t^~n&r;case 1:return n^t^r;case 2:return n&t^n&r^t&r;case 3:return n^t^r}}function at(e,n){return e<<n|e>>>32-n}function Ao(e){var n=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var r=unescape(encodeURIComponent(e));e=[];for(var a=0;a<r.length;++a)e.push(r.charCodeAt(a))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var i=e.length/4+2,o=Math.ceil(i/16),s=new Array(o),l=0;l<o;++l){for(var c=new Uint32Array(16),u=0;u<16;++u)c[u]=e[l*64+u*4]<<24|e[l*64+u*4+1]<<16|e[l*64+u*4+2]<<8|e[l*64+u*4+3];s[l]=c}s[o-1][14]=(e.length-1)*8/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=(e.length-1)*8&4294967295;for(var f=0;f<o;++f){for(var d=new Uint32Array(80),p=0;p<16;++p)d[p]=s[f][p];for(var y=16;y<80;++y)d[y]=at(d[y-3]^d[y-8]^d[y-14]^d[y-16],1);for(var w=t[0],m=t[1],g=t[2],h=t[3],v=t[4],_=0;_<80;++_){var b=Math.floor(_/20),R=at(w,5)+Do(b,m,g,h)+v+n[b]+d[_]>>>0;v=h,h=g,g=at(m,30)>>>0,m=w,w=R}t[0]=t[0]+w>>>0,t[1]=t[1]+m>>>0,t[2]=t[2]+g>>>0,t[3]=t[3]+h>>>0,t[4]=t[4]+v>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var ko=Ir("v5",80,Ao);const Lo=ko,$o="00000000-0000-0000-0000-000000000000";function jo(e){if(!Ie(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}const To=Object.freeze(Object.defineProperty({__proto__:null,NIL:$o,parse:Fr,stringify:He,v1:vo,v3:Eo,v4:Po,v5:Lo,validate:Ie,version:jo},Symbol.toStringTag,{value:"Module"})),Mo=pt(To);var Br={exports:{}};function Fo(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var it={exports:{}};const Io={},Ho=Object.freeze(Object.defineProperty({__proto__:null,default:Io},Symbol.toStringTag,{value:"Module"})),Bo=pt(Ho);var er;function ze(){return er||(er=1,function(e,n){(function(t,r){e.exports=r()})(S,function(){var t=t||function(r,a){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof S<"u"&&S.crypto&&(i=S.crypto),!i&&typeof Fo=="function")try{i=Bo}catch{}var o=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function h(){}return function(v){var _;return h.prototype=v,_=new h,h.prototype=null,_}}(),l={},c=l.lib={},u=c.Base=function(){return{extend:function(h){var v=s(this);return h&&v.mixIn(h),(!v.hasOwnProperty("init")||this.init===v.init)&&(v.init=function(){v.$super.init.apply(this,arguments)}),v.init.prototype=v,v.$super=this,v},create:function(){var h=this.extend();return h.init.apply(h,arguments),h},init:function(){},mixIn:function(h){for(var v in h)h.hasOwnProperty(v)&&(this[v]=h[v]);h.hasOwnProperty("toString")&&(this.toString=h.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=c.WordArray=u.extend({init:function(h,v){h=this.words=h||[],v!=a?this.sigBytes=v:this.sigBytes=h.length*4},toString:function(h){return(h||p).stringify(this)},concat:function(h){var v=this.words,_=h.words,b=this.sigBytes,R=h.sigBytes;if(this.clamp(),b%4)for(var C=0;C<R;C++){var x=_[C>>>2]>>>24-C%4*8&255;v[b+C>>>2]|=x<<24-(b+C)%4*8}else for(var O=0;O<R;O+=4)v[b+O>>>2]=_[O>>>2];return this.sigBytes+=R,this},clamp:function(){var h=this.words,v=this.sigBytes;h[v>>>2]&=4294967295<<32-v%4*8,h.length=r.ceil(v/4)},clone:function(){var h=u.clone.call(this);return h.words=this.words.slice(0),h},random:function(h){for(var v=[],_=0;_<h;_+=4)v.push(o());return new f.init(v,h)}}),d=l.enc={},p=d.Hex={stringify:function(h){for(var v=h.words,_=h.sigBytes,b=[],R=0;R<_;R++){var C=v[R>>>2]>>>24-R%4*8&255;b.push((C>>>4).toString(16)),b.push((C&15).toString(16))}return b.join("")},parse:function(h){for(var v=h.length,_=[],b=0;b<v;b+=2)_[b>>>3]|=parseInt(h.substr(b,2),16)<<24-b%8*4;return new f.init(_,v/2)}},y=d.Latin1={stringify:function(h){for(var v=h.words,_=h.sigBytes,b=[],R=0;R<_;R++){var C=v[R>>>2]>>>24-R%4*8&255;b.push(String.fromCharCode(C))}return b.join("")},parse:function(h){for(var v=h.length,_=[],b=0;b<v;b++)_[b>>>2]|=(h.charCodeAt(b)&255)<<24-b%4*8;return new f.init(_,v)}},w=d.Utf8={stringify:function(h){try{return decodeURIComponent(escape(y.stringify(h)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(h){return y.parse(unescape(encodeURIComponent(h)))}},m=c.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(h){typeof h=="string"&&(h=w.parse(h)),this._data.concat(h),this._nDataBytes+=h.sigBytes},_process:function(h){var v,_=this._data,b=_.words,R=_.sigBytes,C=this.blockSize,x=C*4,O=R/x;h?O=r.ceil(O):O=r.max((O|0)-this._minBufferSize,0);var H=O*C,ee=r.min(H*4,R);if(H){for(var te=0;te<H;te+=C)this._doProcessBlock(b,te);v=b.splice(0,H),_.sigBytes-=ee}return new f.init(v,ee)},clone:function(){var h=u.clone.call(this);return h._data=this._data.clone(),h},_minBufferSize:0});c.Hasher=m.extend({cfg:u.extend(),init:function(h){this.cfg=this.cfg.extend(h),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(h){return this._append(h),this._process(),this},finalize:function(h){h&&this._append(h);var v=this._doFinalize();return v},blockSize:16,_createHelper:function(h){return function(v,_){return new h.init(_).finalize(v)}},_createHmacHelper:function(h){return function(v,_){return new g.HMAC.init(h,_).finalize(v)}}});var g=l.algo={};return l}(Math);return t})}(it)),it.exports}var ot={exports:{}},tr;function zo(){return tr||(tr=1,function(e,n){(function(t,r){e.exports=r(ze())})(S,function(t){return function(){var r=t,a=r.lib,i=a.WordArray,o=a.Hasher,s=r.algo,l=[],c=s.SHA1=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,f){for(var d=this._hash.words,p=d[0],y=d[1],w=d[2],m=d[3],g=d[4],h=0;h<80;h++){if(h<16)l[h]=u[f+h]|0;else{var v=l[h-3]^l[h-8]^l[h-14]^l[h-16];l[h]=v<<1|v>>>31}var _=(p<<5|p>>>27)+g+l[h];h<20?_+=(y&w|~y&m)+1518500249:h<40?_+=(y^w^m)+1859775393:h<60?_+=(y&w|y&m|w&m)-1894007588:_+=(y^w^m)-899497514,g=m,m=w,w=y<<30|y>>>2,y=p,p=_}d[0]=d[0]+p|0,d[1]=d[1]+y|0,d[2]=d[2]+w|0,d[3]=d[3]+m|0,d[4]=d[4]+g|0},_doFinalize:function(){var u=this._data,f=u.words,d=this._nDataBytes*8,p=u.sigBytes*8;return f[p>>>5]|=128<<24-p%32,f[(p+64>>>9<<4)+14]=Math.floor(d/4294967296),f[(p+64>>>9<<4)+15]=d,u.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var u=o.clone.call(this);return u._hash=this._hash.clone(),u}});r.SHA1=o._createHelper(c),r.HmacSHA1=o._createHmacHelper(c)}(),t.SHA1})}(ot)),ot.exports}var st={exports:{}},rr;function No(){return rr||(rr=1,function(e,n){(function(t,r){e.exports=r(ze())})(S,function(t){(function(){var r=t,a=r.lib,i=a.Base,o=r.enc,s=o.Utf8,l=r.algo;l.HMAC=i.extend({init:function(c,u){c=this._hasher=new c.init,typeof u=="string"&&(u=s.parse(u));var f=c.blockSize,d=f*4;u.sigBytes>d&&(u=c.finalize(u)),u.clamp();for(var p=this._oKey=u.clone(),y=this._iKey=u.clone(),w=p.words,m=y.words,g=0;g<f;g++)w[g]^=1549556828,m[g]^=909522486;p.sigBytes=y.sigBytes=d,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var u=this._hasher,f=u.finalize(c);u.reset();var d=u.finalize(this._oKey.clone().concat(f));return d}})})()})}(st)),st.exports}(function(e,n){(function(t,r,a){e.exports=r(ze(),zo(),No())})(S,function(t){return t.HmacSHA1})})(Br);var Ko=Br.exports,zr={exports:{}};(function(e,n){(function(t,r){e.exports=r(ze())})(S,function(t){return function(){var r=t,a=r.lib,i=a.WordArray,o=r.enc;o.Base64={stringify:function(l){var c=l.words,u=l.sigBytes,f=this._map;l.clamp();for(var d=[],p=0;p<u;p+=3)for(var y=c[p>>>2]>>>24-p%4*8&255,w=c[p+1>>>2]>>>24-(p+1)%4*8&255,m=c[p+2>>>2]>>>24-(p+2)%4*8&255,g=y<<16|w<<8|m,h=0;h<4&&p+h*.75<u;h++)d.push(f.charAt(g>>>6*(3-h)&63));var v=f.charAt(64);if(v)for(;d.length%4;)d.push(v);return d.join("")},parse:function(l){var c=l.length,u=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var d=0;d<u.length;d++)f[u.charCodeAt(d)]=d}var p=u.charAt(64);if(p){var y=l.indexOf(p);y!==-1&&(c=y)}return s(l,c,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function s(l,c,u){for(var f=[],d=0,p=0;p<c;p++)if(p%4){var y=u[l.charCodeAt(p-1)]<<p%4*2,w=u[l.charCodeAt(p)]>>>6-p%4*2,m=y|w;f[d>>>2]|=m<<24-d%4*8,d++}return i.create(f,d)}}(),t.enc.Base64})})(zr);var Go=zr.exports,Ne={};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.fixedEncodeURIComponent=void 0;function Wo(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})}Ne.fixedEncodeURIComponent=Wo;(function(e){var n=S&&S.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(e,"__esModule",{value:!0}),e.TwitterStrategy=e.TwitterStrategyDefaultName=void 0;const t=le,r=n(Er),a=Re,i=Mo,o=n(Ko),s=n(Go),l=Ne;let c=(0,r.default)("TwitterStrategy");const u="https://api.twitter.com/oauth/request_token",f="https://api.twitter.com/oauth/authorize",d="https://api.twitter.com/oauth/access_token",p="https://api.twitter.com/1.1/account/verify_credentials.json";e.TwitterStrategyDefaultName="twitter";class y extends a.Strategy{constructor(m,g){super(g),this.name=e.TwitterStrategyDefaultName,this.clientID=m.clientID,this.clientSecret=m.clientSecret,this.callbackURL=m.callbackURL,this.includeEmail=m.includeEmail||!1}async authenticate(m,g,h){var v;c("Request URL",m.url);let _=new URL(m.url),b=await g.getSession(m.headers.get("Cookie")),R=(v=b.get(h.sessionKey))!==null&&v!==void 0?v:null;if(R)return c("User is authenticated"),this.success(R,m,g,h);let C=this.getCallbackURL(_);if(c("Callback URL",C),_.pathname!==C.pathname){c("Requesting request token");const{requestToken:de,callbackConfirmed:Ke}=await this.fetchRequestToken(C);throw Ke?(0,t.redirect)(y.getAuthorizationURL(de).toString(),{headers:{"Set-Cookie":await g.commitSession(b)}}):(0,t.json)({message:"Callback not confirmed"},{status:401})}if(_.searchParams.get("denied"))return await this.failure("Please authorize the app",m,g,h);const O=_.searchParams.get("oauth_token");if(!O)throw(0,t.json)({message:"Missing oauth token from auth response."},{status:400});const H=_.searchParams.get("oauth_verifier");if(!H)throw(0,t.json)({message:"Missing oauth verifier from auth response."},{status:400});let ee=new URLSearchParams;ee.set("oauth_token",O),ee.set("oauth_verifier",H);let{accessToken:te,accessTokenSecret:Et}=await this.fetchAccessToken(ee),Yr=await this.userProfile(te,Et,this.includeEmail);try{R=await this.verify({accessToken:te,accessTokenSecret:Et,profile:Yr,context:h.context})}catch(de){c("Failed to verify user",de);let Ke=de.message;return await this.failure(Ke,m,g,h)}return c("User authenticated"),await this.success(R,m,g,h)}getCallbackURL(m){return this.callbackURL.startsWith("http:")||this.callbackURL.startsWith("https:")?new URL(this.callbackURL):this.callbackURL.startsWith("/")?new URL(this.callbackURL,m):new URL(`${m.protocol}//${this.callbackURL}`)}static generateNonce(){return(0,i.v4)()}static generateTimestamp(){return`${Math.floor(Date.now()/1e3)}`}async fetchRequestToken(m){const g=this.signRequest({oauth_callback:m.toString()},"GET",u),h=new URL(u);h.search=new URLSearchParams(g).toString();let v=await fetch(h.toString(),{method:"GET"});if(!v.ok){let R=await v.text();throw new Response(R,{status:401})}const _=await v.text(),b={};for(const R of _.split("&")){const[C,x]=R.split("=");b[C]=x}return{requestToken:b.oauth_token,requestTokenSecret:b.oauth_token_secret,callbackConfirmed:b.oauth_callback_confirmed==="true"}}signRequest(m,g,h,v){const _={...m,oauth_consumer_key:this.clientID,oauth_nonce:y.generateNonce(),oauth_timestamp:y.generateTimestamp(),oauth_version:"1.0",oauth_signature_method:"HMAC-SHA1"},b=Object.entries(_).sort(([O],[H])=>O.localeCompare(H)).map(([O,H])=>`${(0,l.fixedEncodeURIComponent)(O)}=${(0,l.fixedEncodeURIComponent)(H)}`).join("&"),R=`${g}&${(0,l.fixedEncodeURIComponent)(h)}&${(0,l.fixedEncodeURIComponent)(b)}`,C=`${this.clientSecret}&${v||""}`,x=s.default.stringify((0,o.default)(R,C));return{..._,oauth_signature:x,oauth_signature_method:"HMAC-SHA1"}}static getAuthorizationURL(m){let g=new URLSearchParams;g.set("oauth_token",m);let h=new URL(f);return h.search=g.toString(),h}async fetchAccessToken(m){m.set("oauth_consumer_key",this.clientID);let g=await fetch(d,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:m});if(!g.ok){let h=await g.text();throw c("error! "+h),new Response(h,{status:401})}return await this.getAccessToken(g.clone())}async getAccessToken(m){const g=await m.text(),h={};for(const b of g.split("&")){const[R,C]=b.split("=");h[R]=C}const v=h.oauth_token,_=h.oauth_token_secret;return{accessToken:v,accessTokenSecret:_}}async userProfile(m,g,h){const v=this.signRequest({oauth_token:m,include_email:h?"true":"false"},"GET",p,g),_=new URL(p);return _.search=new URLSearchParams(v).toString(),await(await fetch(_.toString())).json()}}e.TwitterStrategy=y})(Ot);var Nr={};(function(e){var n=S&&S.__createBinding||(Object.create?function(r,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(r,o,s)}:function(r,a,i,o){o===void 0&&(o=i),r[o]=a[i]}),t=S&&S.__exportStar||function(r,a){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&n(a,r,i)};Object.defineProperty(e,"__esModule",{value:!0}),t(Rt,e)})(Nr);var Kr={};(function(e){var n=S&&S.__createBinding||(Object.create?function(r,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(r,o,s)}:function(r,a,i,o){o===void 0&&(o=i),r[o]=a[i]}),t=S&&S.__exportStar||function(r,a){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&n(a,r,i)};Object.defineProperty(e,"__esModule",{value:!0}),t(xt,e)})(Kr);var Gr={};(function(e){var n=S&&S.__createBinding||(Object.create?function(r,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(r,o,s)}:function(r,a,i,o){o===void 0&&(o=i),r[o]=a[i]}),t=S&&S.__exportStar||function(r,a){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&n(a,r,i)};Object.defineProperty(e,"__esModule",{value:!0}),t(Ct,e)})(Gr);var Wr={},Vr={},qr={};Object.defineProperty(qr,"__esModule",{value:!0});(function(e){var n=S&&S.__createBinding||(Object.create?function(i,o,s,l){l===void 0&&(l=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(i,l,c)}:function(i,o,s,l){l===void 0&&(l=s),i[l]=o[s]}),t=S&&S.__exportStar||function(i,o){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&n(o,i,s)};Object.defineProperty(e,"__esModule",{value:!0}),e.FacebookStrategy=e.FacebookStrategyScopeSeperator=e.FacebookStrategyDefaultScopes=e.FacebookStrategyName=e.baseProfileFields=void 0;const r=X;t(qr,e),e.baseProfileFields=["id","email","name","first_name","middle_name","last_name","picture"],e.FacebookStrategyName="facebook",e.FacebookStrategyDefaultScopes=["public_profile","email"],e.FacebookStrategyScopeSeperator=",";class a extends r.OAuth2Strategy{constructor({clientID:o,clientSecret:s,callbackURL:l,scope:c,extraProfileFields:u},f){super({clientID:o,clientSecret:s,callbackURL:l,authorizationURL:"https://facebook.com/v14.0/dialog/oauth",tokenURL:"https://graph.facebook.com/v14.0/oauth/access_token"},f),this.name=e.FacebookStrategyName,this.userInfoURL="https://graph.facebook.com/me",this.scope=this.getScope(c),this.profileFields=[...new Set([...e.baseProfileFields,...u||[]])]}getScope(o){if(o){if(typeof o=="string")return o.split(e.FacebookStrategyScopeSeperator)}else return e.FacebookStrategyDefaultScopes;return o}authorizationParams(){return new URLSearchParams({scope:this.scope.join(e.FacebookStrategyScopeSeperator)})}async userProfile(o){const s=`?fields=${this.profileFields.join(",")}`,l=`${this.userInfoURL}${s}`,u=await(await fetch(l,{headers:{Authorization:`Bearer ${o}`}})).json();return{provider:"facebook",id:u.id,displayName:u.name,name:{familyName:u.last_name,givenName:u.first_name},emails:[{value:u.email}],photos:[{value:u.picture.data.url}],_json:u}}}e.FacebookStrategy=a})(Vr);(function(e){var n=S&&S.__createBinding||(Object.create?function(r,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(r,o,s)}:function(r,a,i,o){o===void 0&&(o=i),r[o]=a[i]}),t=S&&S.__exportStar||function(r,a){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&n(a,r,i)};Object.defineProperty(e,"__esModule",{value:!0}),t(Vr,e)})(Wr);var Xr={};(function(e){var n=S&&S.__createBinding||(Object.create?function(r,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(r,o,s)}:function(r,a,i,o){o===void 0&&(o=i),r[o]=a[i]}),t=S&&S.__exportStar||function(r,a){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&n(a,r,i)};Object.defineProperty(e,"__esModule",{value:!0}),t(Ut,e)})(Xr);var Jr={};(function(e){var n=S&&S.__createBinding||(Object.create?function(r,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(r,o,s)}:function(r,a,i,o){o===void 0&&(o=i),r[o]=a[i]}),t=S&&S.__exportStar||function(r,a){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&n(a,r,i)};Object.defineProperty(e,"__esModule",{value:!0}),t(Ot,e)})(Jr);(function(e){var n=S&&S.__createBinding||(Object.create?function(l,c,u,f){f===void 0&&(f=u);var d=Object.getOwnPropertyDescriptor(c,u);(!d||("get"in d?!c.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return c[u]}}),Object.defineProperty(l,f,d)}:function(l,c,u,f){f===void 0&&(f=u),l[f]=c[u]}),t=S&&S.__exportStar||function(l,c){for(var u in l)u!=="default"&&!Object.prototype.hasOwnProperty.call(c,u)&&n(c,l,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.SocialsProvider=void 0;const r=Rt,a=Ct,i=xt,o=Ut,s=Ot;t(Nr,e),t(Kr,e),t(Gr,e),t(Wr,e),t(Xr,e),t(Jr,e),e.SocialsProvider={DISCORD:r.DiscordStrategyDefaultName,FACEBOOK:"facebook",GITHUB:a.GitHubStrategyDefaultName,GOOGLE:i.GoogleStrategyDefaultName,MICROSOFT:o.MicrosoftStrategyDefaultName,TWITTER:s.TwitterStrategyDefaultName}})(ti);export{Qo as E,Jo as F,Yo as P,ti as b};
